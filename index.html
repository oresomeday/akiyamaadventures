<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S„Éû„Éº„ÉÄ„ÉºÂ∑•Ê•≠È´òÊ†°„Çµ„Ç§„Ç≥„Çπ„É™„É©„Éº„Äå„Éù„Éº„É´„ÅÆÂë™„ÅÑ„Äç</title>
    <style>
        body {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            font-family: 'Hiragino Sans', 'Yu Gothic', Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 1cm 0;
            box-sizing: border-box;
            transition: all 0.5s ease;
        }
        .container {
            text-align: center;
            max-width: 400px;
            width: 90%;
            padding: 20px;
            background: rgba(0,0,0,0.8);
            border-radius: 15px;
            border: 3px solid #444;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            box-sizing: border-box;
            transition: all 0.3s ease;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.3);
        }
        .title {
            font-size: 1.8rem;
            color: #ff6b6b;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            font-weight: bold;
            animation: titleGlow 3s ease-in-out infinite alternate;
        }
        .subtitle {
            font-size: 1.2rem;
            color: #ffa726;
            margin-bottom: 30px;
            animation: subtitlePulse 2s ease-in-out infinite;
        }
        .start-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            margin: 20px;
            transition: all 0.3s;
            animation: buttonFloat 2s ease-in-out infinite;
        }
        .start-btn:hover {
            transform: scale(1.1) rotate(2deg);
            background: linear-gradient(45deg, #ee5a24, #ff6b6b);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.7);
        }
        .choice-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            padding: 15px;
            border-radius: 8px;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            margin: 5px 0;
            display: block;
            width: 100%;
            transition: all 0.3s;
            border: 2px solid transparent;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
        }
        .choice-btn:hover {
            background: linear-gradient(45deg, #764ba2, #667eea);
            border-color: #fff;
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 5px 15px rgba(118, 75, 162, 0.4);
        }
        .choice-btn:active {
            transform: translateY(-1px) scale(0.98);
        }
        .character-name {
            color: #4fc3f7;
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 10px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
            animation: nameGlow 2s ease-in-out infinite alternate;
        }
        .story-text {
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 1rem;
            animation: textFadeIn 0.8s ease-in;
        }
        .death-scene {
            background: linear-gradient(135deg, #c0392b, #8e44ad);
            animation: deathPulse 1.5s infinite;
            border-color: #ff0000;
            box-shadow: 0 0 50px rgba(192, 57, 43, 0.8);
        }
        .happy-scene {
            background: linear-gradient(135deg, #26de81, #20bf6b);
            animation: sparkle 2s infinite;
            border-color: #00ff00;
            box-shadow: 0 0 50px rgba(38, 222, 129, 0.8);
        }
        .tension-scene {
            background: linear-gradient(135deg, #f39c12, #e74c3c);
            animation: tensionShake 0.3s infinite;
            border-color: #ff6b00;
        }
        .mystery-scene {
            background: linear-gradient(135deg, #8e44ad, #2c3e50);
            animation: mysteryFlicker 2s infinite;
            border-color: #9b59b6;
        }
        .danger-scene {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            animation: dangerBlink 1s infinite;
            border-color: #ff0000;
        }
        @keyframes titleGlow {
            0% { text-shadow: 2px 2px 4px rgba(0,0,0,0.5), 0 0 10px rgba(255, 107, 107, 0.5); }
            100% { text-shadow: 2px 2px 4px rgba(0,0,0,0.5), 0 0 20px rgba(255, 107, 107, 1); }
        }
        @keyframes subtitlePulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        @keyframes buttonFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        @keyframes nameGlow {
            0% { text-shadow: 1px 1px 3px rgba(0,0,0,0.7), 0 0 5px rgba(79, 195, 247, 0.5); }
            100% { text-shadow: 1px 1px 3px rgba(0,0,0,0.7), 0 0 15px rgba(79, 195, 247, 1); }
        }
        @keyframes textFadeIn {
            0% { opacity: 0; transform: translateY(10px); }
            100% { opacity: 1; transform: translateY(0); }
        }
        @keyframes deathPulse {
            0% { opacity: 0.7; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.02); }
            100% { opacity: 0.7; transform: scale(1); }
        }
        @keyframes sparkle {
            0% { box-shadow: 0 0 20px rgba(38, 222, 129, 0.5); }
            50% { box-shadow: 0 0 40px rgba(38, 222, 129, 1); }
            100% { box-shadow: 0 0 20px rgba(38, 222, 129, 0.5); }
        }
        @keyframes tensionShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-2px); }
            75% { transform: translateX(2px); }
        }
        @keyframes mysteryFlicker {
            0%, 100% { opacity: 0.9; }
            50% { opacity: 0.7; }
        }
        @keyframes dangerBlink {
            0%, 100% { background: linear-gradient(135deg, #e74c3c, #c0392b); }
            50% { background: linear-gradient(135deg, #c0392b, #8e44ad); }
        }
        .sound-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 0.8rem;
            color: #ffa726;
            animation: soundWave 1s ease-in-out infinite;
        }
        @keyframes soundWave {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        @media (max-width: 480px) {
            .container {
                max-width: 95%;
                padding: 15px;
            }
            .title {
                font-size: 1.5rem;
            }
            .subtitle {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container" id="gameContainer">
        <div class="sound-indicator" id="soundIndicator">‚ô™</div>
        <div id="titleScreen">
            <div class="title">S„Éû„Éº„ÉÄ„ÉºÂ∑•Ê•≠È´òÊ†°</div>
            <div class="subtitle">„Çµ„Ç§„Ç≥„Çπ„É™„É©„Éº„Äå„Éù„Éº„É´„ÅÆÂë™„ÅÑ„Äç</div>
            <button class="start-btn" onclick="startGame()">„Ç≤„Éº„É†„Çπ„Çø„Éº„Éà</button>
        </div>
        <div id="gameScreen" style="display: none;">
            <div class="character-name" id="characterName"></div>
            <div class="story-text" id="storyText"></div>
            <div id="choices"></div>
        </div>
    </div>
    <script>
        let gameState = 'start';
        let playerPath = [];
        let suspicionLevel = 0;
        let allyCount = 0;
        let escapeAttempts = 0;
        
        function startGame() {
            document.getElementById('titleScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'block';
            changeAtmosphere('mystery');
            showOpening();
        }
        
        function changeAtmosphere(type) {
            const container = document.getElementById('gameContainer');
            container.className = 'container';
            setTimeout(() => {
                container.className = `container ${type}-scene`;
            }, 100);
        }
        
        function addSoundEffect(text) {
            const soundIndicator = document.getElementById('soundIndicator');
            soundIndicator.textContent = text;
            setTimeout(() => {
                soundIndicator.textContent = '‚ô™';
            }, 2000);
        }
        
        function showOpening() {
            addSoundEffect('üå´Ô∏è');
            updateDisplay('',
                'ÈúßÊ∑±„ÅÑÂ±±ÈñìÈÉ®„Å´„ÅÇ„ÇãS„Éû„Éº„ÉÄ„ÉºÂ∑•Ê•≠È´òÊ†°„ÄÇÊúù7ÊôÇ30ÂàÜ„ÄÅAÊú®Â±±„ÅØÈáç„ÅÑË∂≥Âèñ„Çä„ÅßÊ†°ÈñÄ„Å´Âêë„Åã„Å£„Åü„ÄÇÊò®Â§úË¶ã„ÅüÊÇ™Â§¢„ÅåÈ†≠„Åã„ÇâÈõ¢„Çå„Å™„ÅÑ...Ëá™ÂàÜ„Åå„Éù„Éº„É´„Å´ÊøÄÁ™Å„Åô„ÇãÂ§¢„Çí„ÄÇ',
                [
                    { text: 'ÊÇ™Â§¢„Å´„Å§„ÅÑ„Å¶ËÄÉ„Åà„Çã', action: () => { playerPath.push('nightmare'); contemplateNightmare(); } },
                    { text: 'Â§¢„Å™„Çì„Å¶Ê∞ó„Å´„Åó„Å™„ÅÑ', action: () => { playerPath.push('ignore'); ignoreDream(); } },
                    { text: 'Âë®Âõ≤„ÇíË≠¶Êàí„Åô„Çã', action: () => { playerPath.push('alert'); stayAlert(); } }
                ]
            );
        }
        
        function contemplateNightmare() {
            suspicionLevel += 2;
            addSoundEffect('üí≠');
            updateDisplay('AÊú®Â±±',
                '„ÅÇ„ÅÆÂ§¢...„ÇÑ„Åë„Å´„É™„Ç¢„É´„Å†„Å£„Åü„ÄÇË°Ä„ÅÆÂåÇ„ÅÑ„Åæ„ÅßÊÑü„Åò„Åü„Åó„ÄÅÊúÄÂæå„ÅÆ„ÄåÁ©∫Ê∞ó„Åå„Å™„ÅÑ„Äç„Å®„ÅÑ„ÅÜÊÑüË¶ö„ÇÇ...„Åæ„Åï„Åã‰∫àÁü•Â§¢Ôºü„ÅÑ„ÇÑ„ÄÅ„Åù„Çì„Å™„Éê„Ç´„Å™„ÄÇ„Åß„ÇÇ...',
                [
                    { text: 'Ê†°ÈñÄ„ÅßÁ´ã„Å°Ê≠¢„Åæ„Å£„Å¶Ë¶≥ÂØü', action: () => observeGateCarefully() },
                    { text: 'ÊÄ•„ÅÑ„ÅßÊïôÂÆ§„Å´Âêë„Åã„ÅÜ', action: () => rushToClass() },
                    { text: '‰øùÂÅ•ÂÆ§„Å´Ë°å„Åè', action: () => toNurseOffice() }
                ]
            );
        }
        
        function ignoreDream() {
            suspicionLevel += 1;
            addSoundEffect('üò§');
            updateDisplay('AÊú®Â±±',
                '„Åü„Å†„ÅÆÂ§¢„Å†„ÄÇÊ∞ó„Å´„Åó„Å¶„Åü„ÇâË≤†„Åë„Å†ÔºÅ‰ªäÊó•„ÇÇÊôÆÈÄö„ÅÆ‰∏ÄÊó•„ÅåÂßã„Åæ„Çã...„ÅØ„Åö„ÄÇ„Åß„ÇÇ„ÄÅ„Å™„Çì„ÅßÊ†°ÈñÄ„ÅÆÂâç„Å´‰∫∫„Å†„Åã„Çä„ÅåÔºü',
                [
                    { text: '‰∫∫„Å†„Åã„Çä„Å´Ëøë„Å•„Åè', action: () => approachCrowd() },
                    { text: '‰∫∫„Å†„Åã„Çä„ÇíÈÅø„Åë„Å¶Ë£èÈñÄ„Åã„ÇâÂÖ•„Çã', action: () => useBackGate() },
                    { text: 'ÊßòÂ≠ê„ÇíË¶ã„Çã', action: () => observeFromDistance() }
                ]
            );
        }
        
        function stayAlert() {
            suspicionLevel += 3;
            addSoundEffect('üëÅÔ∏è');
            changeAtmosphere('tension');
            updateDisplay('AÊú®Â±±',
                '‰Ωï„Åã„Åå„Åä„Åã„Åó„ÅÑ„ÄÇÊ†°ÈñÄ„ÅÆÂâç„ÇíÈÄö„ÇãÁîüÂæí„Åü„Å°„Åå„ÄÅ„Åø„Çì„Å™ÂÉï„ÅÆÊñπ„Çí„ÉÅ„É©„ÉÅ„É©Ë¶ã„Å¶„Çã„ÄÇ„Åù„Åó„Å¶...„Å™„Çì„ÅßÊúù„Åã„Çâ„ÅÇ„Çì„Å™„Å´Ê•Ω„Åó„Åù„ÅÜ„Å™„Çì„Å†ÔºüÊôÆÈÄöÊúù„ÅØÁú†„Åù„ÅÜ„Å™„ÅØ„Åö„Å™„ÅÆ„Å´„ÄÇ',
                [
                    { text: 'Áõ¥Êé•ÁîüÂæí„Å´Ë≥™Âïè„Åô„Çã', action: () => askStudentDirectly() },
                    { text: 'Èö†„Çå„Å¶ÊßòÂ≠ê„ÇíË¶≥ÂØü', action: () => hideAndObserve() },
                    { text: 'ÂÖàÁîü„Å´Áõ∏Ë´á„Åô„Çã', action: () => consultTeacher() }
                ]
            );
        }
        
        function observeGateCarefully() {
            suspicionLevel += 2;
            addSoundEffect('üîç');
            updateDisplay('AÊú®Â±±',
                'Ê†°ÈñÄ„ÅÆÊü±„Å´Ë¶ãÊÖ£„Çå„Å™„ÅÑËä±Êùü„Åå„ÅÇ„Çã„ÄÇËøë„Å•„ÅÑ„Å¶„Åø„Çã„Å®...„ÄéAÊú®Â±±Â§™ÈÉé ‰∫´Âπ¥16Ê≠≥„Äè„ÄéBÊú®Â±±Ëä±Â≠ê ‰∫´Âπ¥16Ê≠≥„Äè„ÄéCÊú®Â±±‰∏ÄÈÉé ‰∫´Âπ¥16Ê≠≥„ÄèÂÖ®Âì°Âêå„ÅòÂêçÂ≠óÔºÅ„Åó„Åã„ÇÇÊ≠ª‰∫°Êó•‰ªò„Åå10Âπ¥„Åä„Åç...„Åì„Çå„ÅØ‰Ωï„Åã„ÅÆÂÜóË´áÔºü',
                [
                    { text: 'Ëä±Êùü„ÅÆ‰∏ã„Çí„ÇÇ„Å£„Å®Ë©≥„Åó„ÅèË™ø„Åπ„Çã', action: () => investigateFlowersDeep() },
                    { text: 'Âë®„Çä„Å´‰∫∫„Åå„ÅÑ„Å™„ÅÑ„ÅãÁ¢∫Ë™ç„Åô„Çã', action: () => checkForWitnesses() },
                    { text: 'ÂÜôÁúü„ÇíÊíÆ„Å£„Å¶Ë®ºÊã†„ÇíÊÆã„Åô', action: () => takePhoto() }
                ]
            );
        }
        
        function investigateFlowersDeep() {
            suspicionLevel += 3;
            addSoundEffect('üì∞');
            changeAtmosphere('danger');
            updateDisplay('AÊú®Â±±',
                'Ëä±Êùü„ÅÆ‰∏ã„Åã„ÇâÂè§„ÅÑÊñ∞ËÅû„ÅÆÂàá„ÇäÊäú„Åç„Å®ÊâãÊõ∏„Åç„ÅÆ„É°„É¢„ÅåÂá∫„Å¶„Åç„Åü„ÄÇ„ÄéÊú®Â±±ÂÆ∂„ÅÆÂë™„ÅÑ30Âπ¥ÈñìÁ∂ôÁ∂ö‰∏≠„Äè„ÄéÊ¨°„ÅÆ„Çø„Éº„Ç≤„ÉÉ„ÉàÔºöDÊú®Â±±ÔºàÁèæÂú®16Ê≠≥Ôºâ„Äè„ÄéÂÆüË°å‰∫àÂÆöÊó•ÔºöÊú¨Êó•17:30„Äè„ÄéÂÆüË°åÂ†¥ÊâÄÔºöÈÄöÂ≠¶Ë∑ØÈõªÊü±No.13„Äè...„Åì„Çå„ÅØÊÆ∫‰∫∫‰∫àÂëä„Å†ÔºÅ',
                [
                                       { text: 'ÊÄ•„ÅÑ„ÅßË≠¶ÂØü„Å´ÈÄöÂ†±„Åô„Çã', action: () => callPolice() },
                    { text: 'Ë®ºÊã†„ÇíÊåÅ„Å£„Å¶ÈÄÉ„Åí„Çã', action: () => escapeWithEvidence() },
                    { text: 'Ë™∞„Åå„Åì„Çå„ÇíÁΩÆ„ÅÑ„Åü„ÅãÊé¢„Çã', action: () => findCulprit() }
                ]
            );
        }
        
        function callPolice() {
            escapeAttempts += 1;
            addSoundEffect('üìû');
            updateDisplay('AÊú®Â±±',
                '110Áï™ÔºÅ...„ÅÇ„ÇåÔºü„ÄåÁèæÂú®„Åì„ÅÆÁï™Âè∑„ÅØ‰ΩøÁî®„Åï„Çå„Å¶„Åä„Çä„Åæ„Åõ„Çì„ÄçÔºü„Åù„Çì„Å™„Éê„Ç´„Å™ÔºÅ119Áï™„ÅØÔºü...„Åì„Çå„ÇÇÁπã„Åå„Çâ„Å™„ÅÑ„ÄÇÊê∫Â∏Ø„ÅÆÈõªÊ≥¢„ÅØ...„ÅÇ„ÇåÔºüÂúèÂ§ñÔºü',
                [
                    { text: 'ÂÖ¨Ë°ÜÈõªË©±„ÇíÊé¢„Åô', action: () => findPayphone() },
                    { text: 'Â≠¶Ê†°„ÅÆÈõªË©±„ÇíÂÄü„Çä„Çã', action: () => useSchoolPhone() },
                    { text: 'Áî∫„ÅÆ‰∫∫„Å´Âä©„Åë„ÇíÊ±Ç„ÇÅ„Çã', action: () => askTownspeople() }
                ]
            );
        }
        
        function findPayphone() {
            escapeAttempts += 1;
            addSoundEffect('üèÉ');
            updateDisplay('AÊú®Â±±',
                'Áî∫‰∏≠„ÇíÊé¢„ÅóÂõû„Å£„Åü„Åå...ÂÖ¨Ë°ÜÈõªË©±„Åå‰∏ÄÂè∞„ÇÇ„Å™„ÅÑ„ÄÇ„ÅÇ„ÇåÔºüÊò®Êó•„Åæ„Åß„ÅÇ„Å£„Åü„ÅØ„Åö„Å™„ÅÆ„Å´„ÄÇ„Åæ„Çã„Åß‰∏ÄÂ§ú„Å´„Åó„Å¶ÂÖ®ÈÉ®Êí§Âéª„Åï„Çå„Åü„Åø„Åü„ÅÑ„Å†„ÄÇ',
                [
                    { text: 'Èö£Áî∫„Åæ„ÅßÈÄÉ„Åí„Çã', action: () => escapeToNextTown() },
                    { text: 'Â≠¶Ê†°„Å´Êàª„Çã', action: () => returnToSchool() }
                ]
            );
        }
        
        function escapeToNextTown() {
            escapeAttempts += 2;
            addSoundEffect('üöå');
            changeAtmosphere('tension');
            updateDisplay('„Éê„ÇπÈÅãËª¢Êâã',
                '„ÅÇ„Çâ„ÄÅAÊú®Â±±„Åè„Çì‚ô™ ‰ªäÊó•„ÅØÂ≠¶Ê†°„Çí„Çµ„Éú„Çã„ÅÆÔºü„Åß„ÇÇÊÆãÂøµ„ÄÅ„Åì„ÅÆ„Éê„Çπ„ÅØ‰ªäÊó•„ÅØS„Éû„Éº„ÉÄ„ÉºÂ∑•Ê•≠È´òÊ†°„Å´„Åó„ÅãË°å„Åã„Å™„ÅÑ„ÅÆ„Çà‚ô™ „Åï„ÅÇ„ÄÅÂ≠¶Ê†°„Å´Êàª„Çä„Åæ„Åó„Çá„ÅÜ‚ô™',
                [
                    { text: '„Éê„Çπ„Åã„ÇâÈ£õ„Å≥Èôç„Çä„Çã', action: () => jumpFromBus() },
                    { text: 'ÈÅãËª¢Êâã„Å®‰∫§Ê∏â„Åô„Çã', action: () => negotiateWithDriver() },
                    { text: 'Â§ß‰∫∫„Åó„ÅèÂ≠¶Ê†°„Å´Êàª„Çã', action: () => returnToSchoolForced() }
                ]
            );
        }
        
        function jumpFromBus() {
            escapeAttempts += 2;
            addSoundEffect('üí•');
            updateDisplay('AÊú®Â±±',
                '„Éê„Çπ„Åã„ÇâÈ£õ„Å≥Èôç„Çä„ÅüÔºÅ„Åß„ÇÇ...„ÅÇ„ÇåÔºüÊ∞ó„Åå„Å§„Åè„Å®Â≠¶Ê†°„ÅÆÊ†°ÈñÄÂâç„Å´„ÅÑ„Çã„ÄÇ„Åï„Å£„Åç„Åæ„ÅßÈö£Áî∫Ë°å„Åç„ÅÆ„Éê„Çπ„Å´‰πó„Å£„Å¶„Åü„ÅÆ„Å´...Â§¢ÔºüÁèæÂÆüÔºü',
                [
                    { text: 'ÁèæÂÆüÈÄÉÈÅø„Çí„ÇÑ„ÇÅ„Å¶Â≠¶Ê†°„Å´ÂÖ•„Çã', action: () => enterSchoolReluctantly() }
                ]
            );
        }
        
        function escapeWithEvidence() {
            escapeAttempts += 1;
            addSoundEffect('üèÉ');
            updateDisplay('AÊú®Â±±',
                'Ë®ºÊã†„ÇíÊè°„Çä„Åó„ÇÅ„Å¶Ëµ∞„ÇãÔºÅ„Åß„ÇÇËÉåÂæå„Åã„ÇâË∂≥Èü≥„Åå...ÊåØ„ÇäËøî„Çã„Å®„ÄÅ„ÇØ„É©„Çπ„É°„Ç§„Éà„Åü„Å°„Åå‰∏çÊ∞óÂë≥„Å™Á¨ëÈ°î„ÅßËøΩ„ÅÑ„Åã„Åë„Å¶„Åè„ÇãÔºÅ',
                [
                    { text: 'ÂøÖÊ≠ª„Å´ÈÄÉ„Åí„Çã', action: () => desperateEscape() },
                    { text: 'Á´ã„Å°Âêë„Åã„ÅÜ', action: () => confrontChasers() },
                    { text: 'Èö†„Çå„Çã', action: () => hideFromChasers() }
                ]
            );
        }
        
        function desperateEscape() {
            escapeAttempts += 2;
            addSoundEffect('üí®');
            changeAtmosphere('danger');
            updateDisplay('AÊú®Â±±',
                'ÂøÖÊ≠ª„Å´Ëµ∞„Å£„Åü„Åå...„ÅÇ„ÇåÔºü„Åæ„ÅüÊ†°ÈñÄÂâç„Å´„ÅÑ„Çã„ÄÇ„Åï„Å£„ÅçËµ∞„Å£„Å¶ÈÄÉ„Åí„Åü„ÅÆ„Å´„ÄÅ„Å™„Åú„Åì„Åì„Å´Ôºü„Åæ„Çã„ÅßÂ≠¶Ê†°„Åã„ÇâÂá∫„Çâ„Çå„Å™„ÅÑ„Åø„Åü„ÅÑ„Å†...',
                [
                    { text: 'Ë´¶„ÇÅ„Å¶Â≠¶Ê†°„Å´ÂÖ•„Çã', action: () => enterSchoolDefeated() }
                ]
            );
        }
        
        function checkForWitnesses() {
            suspicionLevel += 1;
            addSoundEffect('üëÄ');
            updateDisplay('AÊú®Â±±',
                'Ëæ∫„Çä„ÇíË¶ãÂõû„Åô„Å®...„ÅÑ„Çã„ÄÇ2Âπ¥Áîü„ÅÆOË°ÄÂêà„ÅåËåÇ„Åø„Åã„ÇâÂÉï„ÇíË¶ã„Å¶„Çã„ÄÇÁõÆ„ÅåË°ÄËµ∞„Å£„Å¶„Å¶„ÄÅ„Å™„Çì„ÅãËààÂ•Æ„Åó„Å¶„Çã„ÄÇ',
                [
                    { text: 'OË°ÄÂêà„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOKetsugo() },
                    { text: 'OË°ÄÂêà„Åã„ÇâÈÄÉ„Åí„Çã', action: () => runFromOKetsugo() },
                    { text: 'OË°ÄÂêà„ÇíÁÑ°Ë¶ñ„Åó„Å¶Ëä±Êùü„ÇíË™ø„ÅπÁ∂ö„Åë„Çã', action: () => ignoreOKetsugo() }
                ]
            );
        }
        
        function talkToOKetsugo() {
            suspicionLevel += 2;
            addSoundEffect('üíâ');
            changeAtmosphere('danger');
            updateDisplay('OË°ÄÂêà',
                '„ÅÇ„Çâ‚ô™ AÊú®Â±±„Åè„Çì„ÄÅ„Åä„ÅØ„Çà„ÅÜ‚ô™ ‰ªäÊó•„ÅØÂêõ„Å´„Å®„Å£„Å¶ÁâπÂà•„Å™Êó•„Å≠‚ô™ Âêõ„ÅÆAÂûã„ÅÆË°ÄÊ∂≤„Åå„Å©„Çì„Å™È¢®„Å´ÊµÅ„Çå„Çã„ÅÆ„Åã„ÄÅ„Å®„Å£„Å¶„ÇÇÊ•Ω„Åó„Åø„Å™„ÅÆ‚ô™ Ëµ§„ÅÑËâ≤„Å£„Å¶Áæé„Åó„ÅÑ„Çè„Çà„Å≠‚ô™',
                [
                    { text: 'Ë°ÄÊ∂≤„ÅÆË©±„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askAboutBlood() },
                    { text: 'OË°ÄÂêà„ÅÆÊ≠£‰Ωì„ÇíÊé¢„Çã', action: () => investigateOKetsugo() },
                    { text: '„Åù„ÅÆÂ†¥„Åã„ÇâÁ´ã„Å°Âéª„Çã', action: () => leaveOKetsugo() }
                ]
            );
        }
        
        function askAboutBlood() {
            suspicionLevel += 2;
            addSoundEffect('ü©∏');
            updateDisplay('OË°ÄÂêà',
                'Ë°ÄÊ∂≤Âûã„Å´„Çà„Å£„Å¶Ë°Ä„ÅÆÁæé„Åó„Åï„ÅåÈÅï„ÅÜ„ÅÆ„Çà‚ô™ AÂûã„ÅØÊµÅ„ÇåÊñπ„ÅåÂÑ™ÈõÖ„Å™„ÅÆ‚ô™ Áâπ„Å´È†≠„Åã„ÇâÊµÅ„Çå„ÇãÊôÇ„ÅØ...„ÅÇ„ÄÅË®Ä„ÅÑÈÅé„Åé„Å°„ÇÉ„Å£„Åü‚ô™ „Åß„ÇÇÂ§ß‰∏àÂ§´„ÄÅ„ÅÇ„Å®Êï∞ÊôÇÈñì„ÅßÂÆüÈöõ„Å´Ë¶ã„Çâ„Çå„Çã„Åã„Çâ‚ô™',
                [
                    { text: 'Ë©≥Á¥∞„ÇíÂïè„ÅÑË©∞„ÇÅ„Çã', action: () => demandDetails() },
                    { text: '‰ªñ„ÅÆÁîüÂæí„ÇÇÁü•„Å£„Å¶„Çã„ÅÆ„ÅãËÅû„Åè', action: () => askAboutOthers() },
                    { text: 'ÈÄÉ„Åí„Çã', action: () => runAway() }
                ]
            );
        }
        
        function demandDetails() {
            suspicionLevel += 3;
            addSoundEffect('‚ùó');
            changeAtmosphere('tension');
            updateDisplay('OË°ÄÂêà',
                'Áü•„Çä„Åü„Åå„Çä„Å≠‚ô™ „Åß„ÇÇÊïô„Åà„Å¶„ÅÇ„Åí„Çã‚ô™ ‰ªäÊó•„ÅÆ17ÊôÇ30ÂàÜ„ÄÅÂêõ„ÅØËá™Ëª¢Ëªä„ÅßÂ∏∞„ÇãÈÄî‰∏≠„ÄÅÈõªÊü±13Áï™„Å´„Å∂„Å§„Åã„Å£„Å¶Ê≠ª„Å¨„ÅÆ‚ô™ „Åø„Çì„Å™„ÅßÂêõ„ÅÆË°Ä„ÇíË¶≥Ë≥û„Åô„Çã„ÅÆ‚ô™ 30Âπ¥„Å´‰∏ÄÂ∫¶„ÅÆ„ÅäÁ•≠„Çä„Çà‚ô™',
                [
                    { text: '30Âπ¥Ââç„ÅÆË©±„ÇíËÅû„Åè', action: () => askAbout30Years() },
                    { text: '„Å™„ÅúËá™ÂàÜ„ÅåÁãô„Çè„Çå„Çã„ÅÆ„ÅãËÅû„Åè', action: () => askWhyMe() },
                    { text: '‰ªñ„Å´„ÇÇÂÖ±ÁäØËÄÖ„Åå„ÅÑ„Çã„ÅãËÅû„Åè', action: () => askAboutAccomplices() }
                ]
            );
        }
        
        function askAbout30Years() {
            suspicionLevel += 2;
            addSoundEffect('üìú');
            updateDisplay('OË°ÄÂêà',
                '30Âπ¥Ââç„Å´AÊú®Â±±Â§™ÈÉé„ÄÅ20Âπ¥Ââç„Å´BÊú®Â±±Ëä±Â≠ê„ÄÅ10Âπ¥Ââç„Å´CÊú®Â±±‰∏ÄÈÉé‚ô™ „Åø„Çì„Å™Âêå„ÅòÈõªÊü±„ÅßÁæé„Åó„ÅèÊ≠ª„Çì„Å†„ÅÆ‚ô™ „Åù„Åó„Å¶‰ªäÊó•„ÅØÂêõ„ÅÆÁï™‚ô™ Â≠¶Ê†°„ÅÆ‰ºùÁµ±„Å™„ÅÆ„Çà‚ô™',
                [
                    { text: '‰ºùÁµ±„ÇíÁ†¥„ÇãÊñπÊ≥ï„ÇíÊé¢„Çã', action: () => askBreakTradition() },
                    { text: '‰ªñ„ÅÆÊú®Â±±ÂÆ∂„Å´„Å§„ÅÑ„Å¶ËÅû„Åè', action: () => askAboutKiyamaFamily() },
                    { text: 'ÊïôÂÆ§„Å´Âêë„Åã„ÅÜ', action: () => headToClassroom() }
                ]
            );
        }
        
        function rushToClass() {
            suspicionLevel += 1;
            addSoundEffect('üèÉ');
            updateDisplay('AÊú®Â±±',
                'ÊÄ•„ÅÑ„ÅßÊïôÂÆ§„Å´Âêë„Åã„ÅÜÈÄî‰∏≠„ÄÅÂªä‰∏ã„Åß„Åô„ÇåÈÅï„ÅÜÁîüÂæí„Åü„Å°„ÅåÂÖ®Âì°ÂÉï„ÇíË¶ã„Å¶ÂæÆÁ¨ë„Çì„Åß„ÅÑ„Çã„ÄÇ„Åó„Åã„ÇÇÁõÆ„ÅåÁï∞Â∏∏„Å´Ëºù„ÅÑ„Å¶„Çã...',
                [
                    { text: '1Âπ¥Áîü„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkTo1stYear() },
                    { text: '3Âπ¥Áîü„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkTo3rdYear() },
                    { text: 'ÁÑ°Ë¶ñ„Åó„Å¶ÊïôÂÆ§„Å´ÊÄ•„Åê', action: () => ignoreAndRush() }
                ]
            );
        }
        
        function talkTo1stYear() {
            suspicionLevel += 2;
            addSoundEffect('üë∂');
            updateDisplay('1Âπ¥Áîü',
                '„ÅÇÔºÅDÊú®Â±±ÂÖàËº©„Å†ÔºÅÂÉï„Åü„Å°1Âπ¥Áîü„ÅØÂÖàËº©„ÅÆÊ≠ª‰Ωì„ÅÆÂÜôÁúü„ÇíÊíÆ„Çã‰øÇ„Å™„Çì„Åß„ÅôÔºÅÂàù„ÇÅ„Å¶„ÅÆÊú®Â±±„Ç§„Éô„É≥„Éà„Å™„ÅÆ„ÅßÁ∑äÂºµ„Åó„Å¶„Åæ„ÅôÔºÅÂÖàËº©„ÄÅÊ≠ª„Å¨ÊôÇ„ÅØ„ÅÑ„ÅÑË°®ÊÉÖ„ÅäÈ°ò„ÅÑ„Åó„Åæ„ÅôÔºÅ',
                [
                    { text: 'Êú®Â±±„Ç§„Éô„É≥„Éà„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askAboutKiyamaEvent() },
                    { text: 'ÂÜôÁúü„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askAboutPhotos() },
                    { text: '„Åù„ÅÆÂ†¥„ÇíÈõ¢„Çå„Çã', action: () => leaveQuickly() }
                ]
            );
        }
        
        function askAboutKiyamaEvent() {
            suspicionLevel += 3;
            addSoundEffect('üé™');
            changeAtmosphere('danger');
            updateDisplay('1Âπ¥Áîü',
                '10Âπ¥„Å´‰∏ÄÂ∫¶„ÅÆÂ≠¶Ê†°ÊúÄÂ§ß„ÅÆ„Ç§„Éô„É≥„Éà„Åß„ÅôÔºÅÂÖ®Ê†°ÁîüÂæí„ÅåÂèÇÂä†„Åó„Å¶„ÄÅÊú®Â±±„ÅÆÊ≠ª„ÇíË¶≥Ë≥û„Åô„Çã„Çì„Åß„ÅôÔºÅÂÖàÁîü„Åü„Å°„ÇÇÊ•Ω„Åó„Åø„Å´„Åó„Å¶„Çã„Åó„ÄÅÁî∫„ÅÆ‰∫∫„Åü„Å°„ÇÇË¶ã„Å´Êù•„Çã„Çì„Åß„Åô„ÇàÔºÅ',
                [
                    { text: 'Áî∫„ÅÆ‰∫∫„ÇÇÁü•„Å£„Å¶„Çã„ÅÆ„ÅãÁ¢∫Ë™ç', action: () => confirmTownInvolvement() },
                    { text: 'ÂÖàÁîü„Åü„Å°„ÅÆÂΩπÂâ≤„ÇíËÅû„Åè', action: () => askTeacherRoles() },
                    { text: 'ÈÅéÂéª„ÅÆÊú®Â±±„Å´„Å§„ÅÑ„Å¶ËÅû„Åè', action: () => askPastKiyamas() }
                ]
            );
        }
        
        function confirmTownInvolvement() {
            suspicionLevel += 2;
            addSoundEffect('üèòÔ∏è');
            updateDisplay('1Âπ¥Áîü',
                '„ÇÇ„Å°„Çç„Çì„Åß„ÅôÔºÅÁî∫Èï∑„Åï„Çì„ÇÇÊù•„Çã„Åó„ÄÅÂïÜÂ∫óË°ó„ÅÆ‰∫∫„Åü„Å°„ÇÇ„ÅäÂºÅÂΩì‰Ωú„Å£„Å¶ÊåÅÂèÇ„Åô„Çã„Çì„Åß„ÅôÔºÅÊú®Â±±„ÅÆÊ≠ª„ÅØÁî∫ÂÖ®‰Ωì„ÅÆ„ÅäÁ•≠„Çä„Å™„Çì„Åß„ÅôÔºÅ„Å†„Åã„ÇâÈÄÉ„Åí„Å¶„ÇÇÁÑ°ÈßÑ„Åß„Åô„Çà‚ô™',
                [
                    { text: 'ÊïôÂÆ§„Å´Âêë„Åã„ÅÜ', action: () => toClassroomWorried() },
                    { text: '‰ªñ„ÅÆÊÉÖÂ†±„ÇíÂèéÈõÜ„Åô„Çã', action: () => gatherMoreInfo() }
                ]
            );
        }
        
        function toClassroomWorried() {
            suspicionLevel += 1;
            addSoundEffect('üö™');
            changeAtmosphere('mystery');
            updateDisplay('',
                'ÊïôÂÆ§„ÅÆ„Éâ„Ç¢„ÇíÈñã„Åë„Çã„Å®...„ÇØ„É©„ÇπÂÖ®Âì°„ÅåÂÉï„ÅÆÊñπ„ÇíÂêë„ÅÑ„Å¶Â∫ß„Å£„Å¶„ÅÑ„Åü„ÄÇÂÖ®Âì°„Åå‰∏çÊ∞óÂë≥„Å´ÂæÆÁ¨ë„Çì„Åß„ÅÑ„Çã„ÄÇÈªíÊùø„Å´„ÅØ„ÄéDÊú®Â±±ËøΩÊÇºÂºèÊ∫ñÂÇôÂßîÂì°‰ºö„Äè„Å®Êõ∏„Åã„Çå„Å¶„ÅÑ„Çã„ÄÇ',
                [
                    { text: 'ÈªíÊùø„ÅÆÊñáÂ≠ó„Å´„Å§„ÅÑ„Å¶Ë≥™Âïè„Åô„Çã', action: () => askAboutBlackboard() },
                    { text: 'Ëá™ÂàÜ„ÅÆÂ∏≠„Å´Â∫ß„Çã', action: () => sitDown() },
                    { text: '„ÇØ„É©„ÇπÂÖ®‰Ωì„Å´Âêë„Åã„Å£„Å¶ÊäóË≠∞„Åô„Çã', action: () => protestToClass() }
                ]
            );
        }
        
        function askAboutBlackboard() {
            suspicionLevel += 2;
            addSoundEffect('‚úèÔ∏è');
            updateDisplay('ÊãÖ‰ªª',
                '„Åä„ÅØ„Çà„ÅÜ„ÄÅAÊú®Â±±„Åè„Çì‚ô™ ‰ªäÊó•„ÅØÂêõ„ÅÆËøΩÊÇºÂºè„ÅÆÊ∫ñÂÇô„ÅßÂøô„Åó„ÅÑ„ÅÆ„Çà‚ô™ Ëä±Ëº™„ÅÆÊ∫ñÂÇô„ÄÅÂºîËæû„ÅÆ‰ΩúÊàê„ÄÅÂÜôÁúüÊíÆÂΩ±„ÅÆÊãÖÂΩìÊ±∫„ÇÅ...„Åø„Çì„Å™Âêõ„ÅÆ„Åü„ÇÅ„Å´È†ëÂºµ„Å£„Å¶„Çã„ÅÆ‚ô™',
                [
                    { text: 'ËøΩÊÇºÂºè„ÅÆË©≥Á¥∞„ÇíËÅû„Åè', action: () => askMemorialDetails() },
                    { text: 'ÂºîËæû„ÅÆÂÜÖÂÆπ„ÇíËÅû„Åè', action: () => askEulogyContent() },
                    { text: 'ÊäóË≠∞„Åô„Çã', action: () => protestMemorial() }
                ]
            );
        }
        
        function askMemorialDetails() {
            suspicionLevel += 2;
            addSoundEffect('‚ö∞Ô∏è');
            updateDisplay('ÊãÖ‰ªª',
                'Âêõ„ÅåÊ≠ª„Çì„Å†Âæå„ÄÅ„Åô„Åê„Å´Â≠¶Ê†°„ÅßËøΩÊÇºÂºè„Çí„Åô„Çã„ÅÆ‚ô™ Ê£∫Ê°∂„ÅØ„ÇÇ„ÅÜÁî®ÊÑè„Åó„Å¶„ÅÇ„Çã„Åó„ÄÅÂêõ„ÅÆÈÅ∫ÂΩ±„ÇÇ‰ΩúÊàêÊ∏à„Åø„Çà‚ô™ „ÅÇ„ÅÇ„ÄÅ„Åß„ÇÇÂêõ„ÅØ„Åæ„Å†Áîü„Åç„Å¶„Çã„Åã„ÇâÈÅ∫ÂΩ±„Åò„ÇÉ„Å™„Åè„Å¶...Ê≠ª„Å¨‰∫àÂÆöÂΩ±Ôºü',
                [
                    { text: 'ÈÅ∫ÂΩ±„ÇíË¶ã„Åõ„Å¶„ÇÇ„Çâ„ÅÜ', action: () => askToSeePhoto() },
                    { text: 'Ê£∫Ê°∂„ÇíË¶ã„Åõ„Å¶„ÇÇ„Çâ„ÅÜ', action: () => askToSeeCoffin() },
                    { text: '„ÇØ„É©„Çπ„É°„Ç§„Éà„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToClassmates() }
                ]
            );
        }
        
        function talkToClassmates() {
            suspicionLevel += 1;
            addSoundEffect('üë•');
            updateDisplay('AÊú®Â±±',
                '„Åø„Çì„Å™„ÄÅ„Å©„ÅÜ„Åó„Å¶ÂÉï„ÅåÊ≠ª„Å¨„Å£„Å¶Ê±∫„ÇÅ„Å§„Åë„Å¶„Çã„Çì„Å†ÔºüÂÉï„ÅØÊ≠ª„Å¨„Å§„ÇÇ„Çä„Å™„Çì„Å¶„Å™„ÅÑÔºÅ',
                [
                    { text: '„ÅæQ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToMaQ() },
                    { text: 'OÊùë„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOMura() },
                    { text: 'Êè°Âäõ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToGrip() }
                ]
            );
        }
        
        function talkToMaQ() {
            suspicionLevel += 2;
            addSoundEffect('üíé');
            changeAtmosphere('tension');
            updateDisplay('„ÅæQ',
                                'QualityÔºàË≥™Ôºâ„ÅÆÈ´ò„ÅÑË≥™Âïè„Å≠‚ô™ „Åß„ÇÇÁ≠î„Åà„ÅØÁ∞°Âçò‚ô™ Âêõ„ÅåÊ≠ª„Å¨„ÅÆ„ÅØÊ±∫ÂÆö‰∫ãÈ†Ö„Å†„Åã„Çâ‚ô™ ÂÉï„ÅØQualityÔºàË≥™Ôºâ„ÅÆÈ´ò„ÅÑÊ≠ª„ÇíÊºîÂá∫„Åô„ÇãÊãÖÂΩì„Çà‚ô™ Âêõ„ÅÆÊ≠ª„Å´Êßò„ÇíQualityÔºàË≥™Ôºâ„ÅÆÈ´ò„ÅÑËä∏Ë°ì‰ΩúÂìÅ„Å´„Åó„Å¶„ÅÇ„Åí„Çã‚ô™',
                [
                    { text: 'QualityÊºîÂá∫„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askQualityDetails() },
                    { text: '„Å™„ÅúÊ±∫ÂÆö‰∫ãÈ†Ö„Å™„ÅÆ„ÅãËÅû„Åè', action: () => askWhyDecided() },
                    { text: '‰ªñ„ÅÆ„ÇØ„É©„Çπ„É°„Ç§„Éà„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOthers() }
                ]
            );
        }
        
        function askQualityDetails() {
            suspicionLevel += 2;
            addSoundEffect('üé≠');
            updateDisplay('„ÅæQ',
                'QualityÔºàË≥™Ôºâ„ÅÆÈ´ò„ÅÑÊ≠ª„Å´„ÅØÊºîÂá∫„ÅåÂøÖË¶Å„Å™„ÅÆ‚ô™ ÂÉï„ÅåÂêõ„ÅÆÊúÄÊúü„ÅÆÁû¨Èñì„Å´ÁâπÂà•„Å™BGM„ÇíÊµÅ„Åó„Å¶„ÅÇ„Åí„Çã‚ô™ „ÄéQuality Death March„Äè„Å£„Å¶„ÅÑ„ÅÜÂÉï„ÅÆ„Ç™„É™„Ç∏„Éä„É´Êõ≤„Çà‚ô™',
                [
                    { text: 'BGM„ÇíËÅû„Åã„Åõ„Å¶„ÇÇ„Çâ„ÅÜ', action: () => requestBGM() },
                    { text: '‰ªñ„Å´„Å©„Çì„Å™ÊºîÂá∫„Åå„ÅÇ„Çã„ÅãËÅû„Åè', action: () => askOtherPerformances() },
                    { text: 'OÊùë„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOMura() }
                ]
            );
        }
        
        function requestBGM() {
            suspicionLevel += 1;
            addSoundEffect('üéµ');
            updateDisplay('„ÅæQ',
                '‚ô™„ÉÄ„É≥„ÉÄ„É≥„ÉÄ„Éº„É≥‚ô™ „ÉÄ„É≥„ÉÄ„É≥„ÉÄ„Éº„É≥‚ô™ Êú®Â±±„ÅåÊ≠ª„Å¨„Çà„Äú‚ô™ QualityÔºàË≥™Ôºâ„ÅÆÈ´ò„ÅÑÊ≠ª„Å†„Çà„Äú‚ô™ „Éù„Éº„É´„Å´„Å∂„Å§„Åã„Å£„Å¶Ë°Ä„Åæ„Åø„Çå„Çà„Äú‚ô™ „Å©„ÅÜÔºüQualityÔºàË≥™ÔºâÈ´ò„ÅÑ„Åß„Åó„ÇáÔºü',
                [
                    { text: '‰ªñ„ÅÆ„ÇØ„É©„Çπ„É°„Ç§„Éà„ÅÆÂèçÂøú„ÇíË¶ã„Çã', action: () => checkClassmateReactions() },
                    { text: 'OÊùë„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOMura() }
                ]
            );
        }
        
        function checkClassmateReactions() {
            suspicionLevel += 1;
            addSoundEffect('üëè');
            updateDisplay('„ÇØ„É©„ÇπÂÖ®Âì°',
                '‚ô™„ÅÑ„ÅÑ„Å≠„Äú‚ô™ QualityÔºàË≥™ÔºâÈ´ò„ÅÑ„Äú‚ô™ AÊú®Â±±„ÅÆÊ≠ª„Å´Ê≠å„Äú‚ô™ „Åø„Çì„Å™„ÅßÊ≠å„Åä„ÅÜ„Äú‚ô™',
                [
                    { text: 'Êè°Âäõ„ÅÆÂèçÂøú„ÇíÁâπ„Å´Ê≥®ÊÑè„Åó„Å¶Ë¶ã„Çã', action: () => observeGrip() },
                    { text: 'OÊùë„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOMura() },
                    { text: 'OËîµ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOZou() }
                ]
            );
        }
        
        function observeGrip() {
            allyCount += 1;
            addSoundEffect('üëÅÔ∏è');
            changeAtmosphere('mystery');
            updateDisplay('AÊú®Â±±',
                'Êè°Âäõ„Å†„Åë„ÅåÊ≠å„Å£„Å¶„Å™„ÅÑ...„Åù„Çå„Å©„Åì„Çç„Åã„ÄÅÁúâ„Çí„Å≤„Åù„ÇÅ„Å¶Âõ∞„Å£„ÅüÈ°î„Çí„Åó„Å¶„ÅÑ„Çã„ÄÇ„ÇÇ„Åó„Åã„Åó„Å¶Êè°Âäõ„ÅØÂÉï„ÅÆÂë≥ÊñπÔºü',
                [
                    { text: 'Êè°Âäõ„Å´„Åù„Å£„Å®Ë©±„Åó„Åã„Åë„Çã', action: () => whisperToGrip() },
                    { text: 'Êè°Âäõ„ÅÆÊßòÂ≠ê„Çí„ÇÇ„ÅÜÂ∞ë„ÅóË¶≥ÂØü„Åô„Çã', action: () => observeGripMore() },
                    { text: '‰ªñ„ÅÆ„ÇØ„É©„Çπ„É°„Ç§„Éà„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOthers() }
                ]
            );
        }
        
        function whisperToGrip() {
            allyCount += 2;
            addSoundEffect('ü§´');
            updateDisplay('Êè°Âäõ',
                'ÔºàÂ∞èÂ£∞„ÅßÔºâAÊú®Â±±...‰ø∫„Å†„Åë„ÅØ„ÅäÂâç„ÅÆÂë≥Êñπ„Å†„ÄÇÂæå„Åß‰ΩìËÇ≤È§®„Å´Êù•„ÅÑ„ÄÇ„Åø„Çì„Å™„Å´„ÅØÂÜÖÁ∑í„Å†„ÄÇ‰ø∫„Å´„ÅØË®àÁîª„Åå„ÅÇ„Çã„ÄÇ',
                [
                    { text: 'Ë®àÁîª„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askGripPlan() },
                    { text: '‰ΩìËÇ≤È§®„Åß‰ºö„ÅÜÁ¥ÑÊùü„Çí„Åô„Çã', action: () => promiseToMeetGrip() },
                    { text: 'Êú¨ÂΩì„Å´‰ø°Áî®„Åó„Å¶„ÅÑ„ÅÑ„ÅãÁ¢∫Ë™ç„Åô„Çã', action: () => confirmGripTrust() }
                ]
            );
        }
        
        function askGripPlan() {
            allyCount += 1;
            addSoundEffect('üí™');
            updateDisplay('Êè°Âäõ',
                'ÔºàÂ∞èÂ£∞„ÅßÔºâ‰ø∫„ÅÆÊè°Âäõ„ÅØ120kg„ÅÇ„Çã„Çì„Å†„ÄÇ„ÅÇ„ÅÆÂë™„ÅÑ„ÅÆ„Éù„Éº„É´„ÇíÁ†¥Â£ä„Åô„Çå„Å∞„ÄÅ„Åì„ÅÆÁãÇ„Å£„Åü‰ºùÁµ±„ÇíÁµÇ„Çè„Çâ„Åõ„Çâ„Çå„Çã„ÄÇ„Åß„ÇÇ‰ªä„ÅØÂë®„Çä„ÅÆÁõÆ„Åå„ÅÇ„Çã„Åã„ÇâË©≥„Åó„Åè„ÅØË©±„Åõ„Å™„ÅÑ„ÄÇ',
                [
                    { text: '‰ΩìËÇ≤È§®„ÅßË©≥„Åó„ÅèË©±„Åô„Åì„Å®„ÇíÁ¥ÑÊùü', action: () => promiseDetailedTalk() },
                    { text: '‰ªñ„Å´ÂçîÂäõËÄÖ„Åå„ÅÑ„Çã„ÅãËÅû„Åè', action: () => askOtherAllies() },
                    { text: 'OÊùë„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOMura() }
                ]
            );
        }
        
        function promiseDetailedTalk() {
            allyCount += 1;
            addSoundEffect('ü§ù');
            updateDisplay('Êè°Âäõ',
                'ÔºàÂ∞èÂ£∞„ÅßÔºâ„Çè„Åã„Å£„Åü„ÄÇ„Åß„ÇÇÊ∞ó„Çí„Å§„Åë„Çç„ÄÇ„Åø„Çì„Å™„ÅäÂâç„ÇíÁõ£Ë¶ñ„Åó„Å¶„Çã„ÄÇ‰∏çÂØ©„Å™Ë°åÂãï„Çí„Åó„Åü„Çâ„Åô„Åê„Å´„Éê„É¨„Çã„ÄÇ',
                [
                    { text: 'OÊùë„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOMura() },
                    { text: 'OËîµ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOZou() },
                    { text: 'KÂ±±„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToKYama() }
                ]
            );
        }
        
        function talkToOMura() {
            suspicionLevel += 2;
            addSoundEffect('üì∏');
            changeAtmosphere('danger');
            updateDisplay('OÊùë',
                'AÊú®Â±±„Äú‚ô™ ‰ø∫„ÅØ„ÅäÂâç„ÅÆÊ≠ª‰ΩìË¶≥ÂØü‰øÇ„Å†‚ô™ Ê≠ª„Çì„Å†Âæå„ÅÆ„ÅäÂâç„Çí„Åò„Å£„Åè„ÇäË¶≥ÂØü„Åó„Å¶„ÄÅ„É¨„Éù„Éº„Éà„ÇíÊõ∏„Åè„Çì„Å†‚ô™ „ÄéDÊú®Â±±„ÅÆÊ≠ª‰ΩìË¶≥ÂØüÊó•Ë®ò„Äè„Å£„Å¶„Çø„Ç§„Éà„É´„Åß„Åï‚ô™',
                [
                    { text: 'Ê≠ª‰ΩìË¶≥ÂØü„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askBodyObservation() },
                    { text: '„É¨„Éù„Éº„Éà„ÅÆÂÜÖÂÆπ„ÇíËÅû„Åè', action: () => askReportContent() },
                    { text: 'OËîµ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOZou() }
                ]
            );
        }
        
        function askBodyObservation() {
            suspicionLevel += 2;
            addSoundEffect('üî¨');
            updateDisplay('OÊùë',
                'Ê≠ª‰Ωì„ÅÆÊ∏©Â∫¶„ÄÅÁ°¨Áõ¥„ÅÆÈÄ≤Ë°å„ÄÅË°ÄÊ∂≤„ÅÆÂáùÂõ∫Áä∂ÊÖã„Å®„ÅãËâ≤„ÄÖË™ø„Åπ„Çã„Çì„Å†‚ô™ „Éù„Éº„É´„Å´„Å∂„Å§„Åã„Å£„ÅüÊôÇ„ÅÆË°ùÊíÉ„Åß„ÄÅ„Å©„Çì„Å™È¢®„Å´È™®„ÅåÊäò„Çå„Çã„Åã„ÇÇË¶≥ÂØü„Åó„Åü„ÅÑ‚ô™ Ê•Ω„Åó„Åø„ÅßÁú†„Çå„Å™„Åã„Å£„Åü„Çà‚ô™',
                [
                    { text: 'ÈÅéÂéª„ÅÆÊú®Â±±„ÅÆË¶≥ÂØüË®òÈå≤„ÇíËÅû„Åè', action: () => askPastObservations() },
                    { text: 'OËîµ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOZou() },
                    { text: 'KÂ±±„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToKYama() }
                ]
            );
        }
        
        function askPastObservations() {
            suspicionLevel += 2;
            addSoundEffect('üìö');
            updateDisplay('OÊùë',
                'AÊú®Â±±Â§™ÈÉé„ÅØÈ†≠ËìãÈ™®„ÅåÁ∂∫È∫ó„Å´Ââ≤„Çå„Åü‚ô™ BÊú®Â±±Ëä±Â≠ê„ÅØÈ¶ñ„ÅÆÈ™®„Åå„Éù„Ç≠„ÉÉ„Å®‚ô™ CÊú®Â±±‰∏ÄÈÉé„ÅØÂÖ®Ë∫´„ÅÆÈ™®„ÅåÁ≤âÁ†ïÈ™®Êäò‚ô™ Âêõ„ÅØ„Å©„Çì„Å™È¢®„Å´Â£ä„Çå„Çã„Åã„Å™„Äú‚ô™',
                [
                    { text: '„Åù„ÅÆË¶≥ÂØüË®òÈå≤„ÇíË¶ã„Åõ„Å¶„ÇÇ„Çâ„ÅÜ', action: () => requestObservationRecords() },
                    { text: 'OËîµ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOZou() }
                ]
            );
        }
        
        function requestObservationRecords() {
            suspicionLevel += 3;
            addSoundEffect('üìñ');
            changeAtmosphere('tension');
            updateDisplay('OÊùë',
                '„ÅÑ„ÅÑ„Çà‚ô™ Ë¶ã„Åõ„Å¶„ÅÇ„Åí„Çã‚ô™ „Åª„Çâ„ÄÅ„Åì„ÅÆÂÜôÁúü„Ç¢„É´„Éê„É†‚ô™ Ê≠¥‰ª£Êú®Â±±„ÅÆÊ≠ª‰ΩìÂÜôÁúü„Ç≥„É¨„ÇØ„Ç∑„Éß„É≥‚ô™ Áæé„Åó„ÅÑ„Åß„Åó„Çá„Äú‚ô™ Âêõ„ÅÆÂÜôÁúü„ÇÇ‰ªäÊó•„Åã„Çâ‰ª≤ÈñìÂÖ•„Çä„Çà‚ô™',
                [
                    { text: 'ÂÜôÁúü„ÇíË©≥„Åó„ÅèË¶ã„Çã', action: () => examinePhotos() },
                    { text: 'ÂÜôÁúü„ÇíË¶ã„Çã„ÅÆ„ÇíÊãíÂê¶„Åô„Çã', action: () => refusePhotos() },
                    { text: 'OËîµ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOZou() }
                ]
            );
        }
        
        function examinePhotos() {
            suspicionLevel += 3;
            addSoundEffect('üò±');
            updateDisplay('AÊú®Â±±',
                '„ÅÜ„Çè„ÅÇ„ÅÇ„ÅÇÔºÅÔºÅÔºÅÊú¨ÂΩì„Å´Ê≠ª„Çì„Åß„Çã...„Åì„Çå„ÅØÊú¨Áâ©„ÅÆÊ≠ª‰ΩìÂÜôÁúü„Å†ÔºÅ„Åù„Åó„Å¶ÂÖ®Âì°ÂÉï„Å®„Åù„Å£„Åè„Çä„Å™È°î...„Åæ„Çã„ÅßÂÖÑÂºü„Åø„Åü„ÅÑ„Å†„ÄÇ„Åì„Çå„ÅØÂÅ∂ÁÑ∂„Åò„ÇÉ„Å™„ÅÑÔºÅ',
                [
                    { text: 'Êú®Â±±ÂÆ∂„ÅÆÈñ¢‰øÇ„Å´„Å§„ÅÑ„Å¶Ë™ø„Åπ„ÇãÂøÖË¶ÅÊÄß„ÇíÊÑü„Åò„Çã', action: () => needToInvestigateFamily() },
                    { text: 'OËîµ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOZou() }
                ]
            );
        }
        
        function needToInvestigateFamily() {
            suspicionLevel += 2;
            addSoundEffect('üîç');
            updateDisplay('AÊú®Â±±',
                'Êú®Â±±ÂÆ∂„Å´‰Ωï„ÅãÁßòÂØÜ„Åå„ÅÇ„Çã„ÄÇ„Å™„Åú10Âπ¥„Åä„Åç„Å´Êú®Â±±„ÅåËª¢Ê†°„Åó„Å¶„Åè„Çã„Çì„Å†Ôºü„Å™„Åú„Åø„Çì„Å™„Åù„Å£„Åè„Çä„Å™„Çì„Å†Ôºü„Åì„ÅÆË¨é„ÇíËß£„Åã„Å™„Åë„Çå„Å∞...„ÄÇ',
                [
                    { text: 'Âõ≥Êõ∏È§®„ÅßË™ø„Åπ„Çã„Åì„Å®„ÇíÊ±∫ÊÑè', action: () => decideLibraryResearch() },
                    { text: 'OËîµ„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToOZou() },
                    { text: 'KÂ±±„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToKYama() }
                ]
            );
        }
        
        function talkToOZou() {
            suspicionLevel += 2;
            addSoundEffect('üñ§');
            changeAtmosphere('danger');
            updateDisplay('OËîµ',
                'AÊú®Â±±„Åè„Çì‚ô™ ÂÉï„ÅØÂêõ„ÅÆÊ≠ª‰Ωì‰øùÁÆ°‰øÇ„Çà‚ô™ Âêõ„ÅåÊ≠ª„Çì„Å†„Çâ„ÄÅÂÉï„Åå‰∏ÄÁï™Èï∑ÊôÇÈñìÂêõ„Å®‰∏ÄÁ∑í„Å´„ÅÑ„Çã„ÅÆ‚ô™ Ê∞∏ÈÅ†„Å´Âêõ„ÇíÊÑõ„Åó„Å¶„ÅÇ„Åí„Çã‚ô™ Ê≠ª‰Ωì„Å´„Å™„Å£„ÅüÂêõ„ÇíÊØéÊó•Êí´„Åß„Å¶„ÅÇ„Åí„Çã‚ô™',
                [
                    { text: 'Ê≠ª‰Ωì‰øùÁÆ°„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askBodyStorage() },
                    { text: 'OËîµ„ÅÆÊÑõÊÉÖ„Å´„Å§„ÅÑ„Å¶ËÅû„Åè', action: () => askOZouLove() },
                    { text: 'KÂ±±„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToKYama() }
                ]
            );
        }
        
        function askBodyStorage() {
            suspicionLevel += 3;
            addSoundEffect('‚ö∞Ô∏è');
            updateDisplay('OËîµ',
                'ÂÉï„ÅÆÂÆ∂„ÅÆÂú∞‰∏ãÂÆ§„Å´ÁâπÂà•„Å™‰øùÁÆ°Â∫´„Çí‰Ωú„Å£„Åü„ÅÆ‚ô™ ÂêõÂ∞ÇÁî®„Çà‚ô™ Ê∏©Â∫¶ÊπøÂ∫¶„ÇÇÂÆåÁíß„Å´„Ç≥„É≥„Éà„É≠„Éº„É´„Åó„Å¶„ÄÅËÖê„Çâ„Å™„ÅÑ„Çà„ÅÜ„Å´‰øùÂ≠ò„Åó„Å¶„ÅÇ„Åí„Çã‚ô™ 100Âπ¥„Åß„ÇÇ200Âπ¥„Åß„ÇÇ‰∏ÄÁ∑í‚ô™',
                [
                    { text: 'ÈÅéÂéª„ÅÆÊú®Â±±„ÇÇ‰øùÁÆ°„Åó„Å¶„Çã„ÅÆ„ÅãËÅû„Åè', action: () => askPastStorage() },
                    { text: '‰øùÁÆ°Â∫´„ÇíË¶ã„Åõ„Å¶„ÇÇ„Çâ„Åà„Çã„ÅãËÅû„Åè', action: () => requestToSeeStorage() },
                    { text: 'KÂ±±„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToKYama() }
                ]
            );
        }
        
        function askPastStorage() {
            suspicionLevel += 2;
            addSoundEffect('üíÄ');
            updateDisplay('OËîµ',
                '„ÇÇ„Å°„Çç„Çì‚ô™ AÊú®Â±±Â§™ÈÉé„ÇÇ„ÄÅBÊú®Â±±Ëä±Â≠ê„ÇÇ„ÄÅCÊú®Â±±‰∏ÄÈÉé„ÇÇ„ÄÅ„Åø„Çì„Å™ÂÉï„ÅÆÂú∞‰∏ãÂÆ§„Å´„ÅÑ„Çã„ÅÆ„Çà‚ô™ ÊØéÊó•„ÅäË©±„Åó„Åó„Å¶„Çã„ÅÆ‚ô™ ‰ªäÂ∫¶Âêõ„ÇÇ‰ª≤ÈñìÂÖ•„Çä„Å≠‚ô™',
                [
                    { text: '„Åù„ÅÆÂú∞‰∏ãÂÆ§„ÅÆÂ†¥ÊâÄ„ÇíËÅû„Åè', action: () => askStorageLocation() },
                    { text: 'KÂ±±„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToKYama() },
                    { text: 'ÂúüY„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToDoY() }
                ]
            );
        }
        
        function talkToKYama() {
            suspicionLevel += 2;
            addSoundEffect('üì±');
            changeAtmosphere('tension');
            updateDisplay('KÂ±±',
                'AÊú®Â±±„Äú‚ô™ ÂÉï„ÅØÂêõ„ÅÆÊ≠ª„Å¨Áû¨Èñì„Çí8KÁîªË≥™„ÅßÊíÆÂΩ±„Åô„Çã‰øÇ„Å†‚ô™ Ë∂ÖÈ´òÁîªË≥™„Ç´„É°„É©„Çí3Âè∞„Çª„ÉÉ„Éà„Åó„Å¶„ÄÅ„ÅÇ„Çâ„ÇÜ„ÇãËßíÂ∫¶„Åã„ÇâÂêõ„ÅÆÊ≠ª„ÇíË®òÈå≤„Åô„Çã‚ô™ SNS„Åß‰∏ñÁïåÈÖç‰ø°„ÇÇ„Åô„Çã„Çà‚ô™',
                [
                    { text: 'ÊíÆÂΩ±Ë®àÁîª„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askFilmingPlan() },
                    { text: 'SNSÈÖç‰ø°„Å´„Å§„ÅÑ„Å¶ËÅû„Åè', action: () => askSNSPlan() },
                    { text: 'ÂúüY„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToDoY() }
                ]
            );
        }
        
        function askFilmingPlan() {
            suspicionLevel += 2;
            addSoundEffect('üé¨');
            updateDisplay('KÂ±±',
                '„Ç´„É°„É©1„ÅØÂêõ„ÅÆÈ°î„ÅÆ„Ç¢„ÉÉ„Éó‚ô™ „Ç´„É°„É©2„ÅØÂÖ®Ë∫´„ÇíÊíÆÂΩ±‚ô™ „Ç´„É°„É©3„ÅØ„Éù„Éº„É´„Å®„ÅÆË°ùÁ™Å„Ç∑„Éº„É≥„ÇíË∂Ö„Çπ„É≠„Éº„É¢„Éº„Ç∑„Éß„É≥ÊíÆÂΩ±‚ô™ Á∑®ÈõÜ„Åó„Å¶„ÄéÊú®Â±±„ÅÆÊ≠ªÔºöÂÆåÂÖ®Áâà„Äè„Å®„Åó„Å¶Ë≤©Â£≤‰∫àÂÆö‚ô™',
                [
                    { text: 'Ë≤©Â£≤„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askSalesDetails() },
                    { text: 'ÈÅéÂéª„ÅÆÊú®Â±±„ÅÆÊò†ÂÉè„Åå„ÅÇ„Çã„ÅãËÅû„Åè', action: () => askPastFootage() },
                    { text: 'ÂúüY„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToDoY() }
                ]
            );
        }
        function askSalesDetails() {
            suspicionLevel += 2;
            addSoundEffect('üí∞');
            updateDisplay('KÂ±±',
                '1Êú¨10‰∏áÂÜÜ„ÅßË≤©Â£≤‰∫àÂÆö‚ô™ „ÇÇ„ÅÜ‰∫àÁ¥Ñ„Åå300Êú¨ÂÖ•„Å£„Å¶„Çã„Çì„Å†‚ô™ Áî∫„ÅÆ‰∫∫„ÅØ„Åø„Çì„Å™Ë≤∑„ÅÜ„Åó„ÄÅ‰ªñ„ÅÆÂ≠¶Ê†°„ÅÆÁîüÂæí„ÇÇÊ¨≤„Åó„Åå„Å£„Å¶„Çã‚ô™ Âêõ„ÅÆÊ≠ª„ÅßÂÉï„ÅØÂ§ßÈáëÊåÅ„Å°„Çà‚ô™',
                [
                    { text: '‰ªñ„ÅÆÂ≠¶Ê†°„ÇÇÁü•„Å£„Å¶„Çã„ÅÆ„ÅãÁ¢∫Ë™ç', action: () => confirmOtherSchools() },
                    { text: 'ÂúüY„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToDoY() }
                ]
            );
        }
        
        function confirmOtherSchools() {
            suspicionLevel += 3;
            addSoundEffect('üè´');
            changeAtmosphere('danger');
            updateDisplay('KÂ±±',
                '„ÇÇ„Å°„Çç„Çì‚ô™ ËøëÈö£„ÅÆÂ≠¶Ê†°„Å´„ÅØÂÖ®ÈÉ®ÂÆ£‰ºù„Åó„Åü„Çà‚ô™ „ÄåS„Éû„Éº„ÉÄ„ÉºÂ∑•Ê•≠È´òÊ†°„ÅÆ‰ºùÁµ±ÁöÑÊÆ∫‰∫∫„Ç∑„Éß„Éº„ÄÅ‰ªäÂπ¥„ÇÇÈñãÂÇ¨„Äç„Å£„Å¶‚ô™ „Åø„Çì„Å™Ë¶ã„Å´Êù•„Çã„Çà‚ô™',
                [
                    { text: 'ÂúüY„Å´Ë©±„Åó„Åã„Åë„Çã', action: () => talkToDoY() },
                    { text: 'ÊéàÊ•≠„ÅåÂßã„Åæ„ÇãÂâç„Å´‰ΩìËÇ≤È§®„Å´Ë°å„Åè', action: () => goToGymEarly() }
                ]
            );
        }
        
        function talkToDoY() {
            suspicionLevel += 2;
            addSoundEffect('üçÄ');
            changeAtmosphere('tension');
            updateDisplay('ÂúüY',
                'AÊú®Â±±„Äú‚ô™ ÂÉï„ÅØÂúüÊõúÊó•Áîü„Åæ„Çå„ÅÆY‰∏ñ‰ª£„ÄÅÂúüY‚ô™ Âêõ„ÅåÁ¢∫ÂÆü„Å´Ê≠ª„Å¨„Çà„ÅÜ„Å´ÈÅãÂã¢„ÇíÊìç‰Ωú„Åô„Çã‰øÇ„Çà‚ô™ ÂÉï„ÅÆ„ÄéÁµ∂ÂØæÊ≠ª‰∫°„ÅÆ„ÅäÂÆà„Çä„Äè„ÅØ30Âπ¥Èñì100%„ÅÆÊàêÂäüÁéá‚ô™',
                [
                    { text: '„ÅäÂÆà„Çä„Å´„Å§„ÅÑ„Å¶Ë©≥„Åó„ÅèËÅû„Åè', action: () => askAboutCharm() },
                    { text: 'ÈÅãÂã¢Êìç‰Ωú„Å´„Å§„ÅÑ„Å¶ËÅû„Åè', action: () => askLuckManipulation() },
                    { text: '‰ΩìËÇ≤È§®„Å´Âêë„Åã„ÅÜ', action: () => headToGym() }
                ]
            );
        }
        
        function askAboutCharm() {
            suspicionLevel += 2;
            addSoundEffect('üßø');
            updateDisplay('ÂúüY',
                '„Åì„Çå„Çà‚ô™ Ë¶ã„ÅüÁõÆ„ÅØÊôÆÈÄö„ÅÆ„ÅäÂÆà„Çä„Å†„Åë„Å©„ÄÅÁâπÂà•„Å™Âë™„ÅÑ„Åå„Åã„Åë„Å¶„ÅÇ„Çã„ÅÆ‚ô™ ÊåÅ„Å°‰∏ª„Å´‰∏çÈÅã„ÇíÂëº„Å∂„ÅäÂÆà„Çä‚ô™ „ÇÇ„ÅÜÂêõ„ÅÆ„Ç´„Éê„É≥„Å´Âøç„Å∞„Åõ„Å¶„ÅÇ„Çã„Åã„Çâ‚ô™',
                [
                    { text: '„Ç´„Éê„É≥„ÇíÁ¢∫Ë™ç„Åô„Çã', action: () => checkBag() },
                    { text: 'Âë™„ÅÑ„ÇíËß£„ÅèÊñπÊ≥ï„ÇíËÅû„Åè', action: () => askCurseRemoval() },
                    { text: '‰ΩìËÇ≤È§®„Å´Âêë„Åã„ÅÜ', action: () => headToGym() }
                ]
            );
        }
        
        function checkBag() {
            suspicionLevel += 3;
            addSoundEffect('üò±');
            changeAtmosphere('danger');
            updateDisplay('AÊú®Â±±',
                '„Ç´„Éê„É≥„ÅÆ‰∏≠„Å´Ë¶ãË¶ö„Åà„ÅÆ„Å™„ÅÑ„ÅäÂÆà„Çä„Åå...„Åó„Åã„ÇÇÂÜ∑„Åü„Åè„Å¶„ÄÅËß¶„Çã„Å®Â´å„Å™ÊÑü„Åò„Åå„Åô„Çã„ÄÇ„Åì„Çå„ÅåÂë™„ÅÑ„ÅÆ„ÅäÂÆà„ÇäÔºü',
                [
                    { text: '„ÅäÂÆà„Çä„ÇíÊç®„Å¶„Çà„ÅÜ„Å®„Åô„Çã', action: () => tryDiscardCharm() },
                    { text: '„ÅäÂÆà„Çä„Çí„Åù„ÅÆ„Åæ„Åæ„Å´„Åó„Å¶„Åä„Åè', action: () => keepCharm() },
                    { text: '‰ΩìËÇ≤È§®„Å´Âêë„Åã„ÅÜ', action: () => headToGym() }
                ]
            );
        }
        
        function tryDiscardCharm() {
            suspicionLevel += 2;
            addSoundEffect('‚ö°');
            updateDisplay('ÂúüY',
                '„ÉÄ„É°„ÉÄ„É°‚ô™ „Åù„ÅÆ„ÅäÂÆà„Çä„ÅØÂë™„ÅÑ„ÅßÂêõ„Å´„Åè„Å£„Å§„ÅÑ„Å¶„Çã„ÅÆ‚ô™ Êç®„Å¶„Å¶„ÇÇÂøÖ„ÅöÊàª„Å£„Å¶„Åè„Çã„Åó„ÄÅÂ£ä„Åù„ÅÜ„Å®„Åô„Çã„Å®Âêõ„Å´ÁÅΩ„ÅÑ„ÅåÈôç„Çä„Åã„Åã„Çã„ÅÆ„Çà‚ô™',
                [
                    { text: 'ÂÆüÈöõ„Å´Êç®„Å¶„Å¶„Åø„Çã', action: () => actuallyDiscard() },
                    { text: '‰ΩìËÇ≤È§®„Å´Âêë„Åã„ÅÜ', action: () => headToGym() }
                ]
            );
        }
        
        function actuallyDiscard() {
            suspicionLevel += 1;
            addSoundEffect('üîÑ');
            updateDisplay('AÊú®Â±±',
                '„Ç¥„ÉüÁÆ±„Å´Êç®„Å¶„Åü„ÅÆ„Å´...„ÅÑ„Å§„ÅÆÈñì„Å´„Åã„Ç´„Éê„É≥„Å´Êàª„Å£„Å¶„ÇãÔºÅÔºü„Åì„Çå„ÅØÊú¨ÂΩì„Å´Âë™„Çè„Çå„Å¶„Çã...',
                [
                    { text: '‰ΩìËÇ≤È§®„Å´Âêë„Åã„ÅÜ', action: () => headToGym() },
                    { text: 'Âõ≥Êõ∏È§®„ÅßÂë™„ÅÑ„Å´„Å§„ÅÑ„Å¶Ë™ø„Åπ„Çã', action: () => researchCurse() }
                ]
            );
        }
        
        function headToGym() {
            addSoundEffect('üèÉ');
            changeAtmosphere('mystery');
            updateDisplay('',
                '‰ΩìËÇ≤È§®„Å´Âêë„Åã„ÅÜÈÄî‰∏≠„ÄÅÂªä‰∏ã„Åß‰∏çÊ∞óÂë≥„Å™Âºµ„ÇäÁ¥ô„ÇíÁô∫Ë¶ã„ÄÇ„ÄéDÊú®Â±±Âá¶ÂàëË¶≥Ë≥û‰ºö Êú¨Êó•17:30„Äè„ÄéÊ≠ª‰ΩìÂÜôÁúü„Ç≥„É≥„ÉÜ„Çπ„ÉàÈñãÂÇ¨„Äè„ÄéÊú®Â±±„ÅÆÊúÄÊúü„ÅÆË®ÄËëâ‰∫àÊÉ≥Â§ß‰ºö„ÄèÂ≠¶Ê†°ÂÖ®‰Ωì„ÅåÂÉï„ÅÆÊ≠ª„Çí„Ç§„Éô„É≥„ÉàÂåñ„Åó„Å¶„ÅÑ„Çã...',
                [
                    { text: 'Âºµ„ÇäÁ¥ô„ÇíË©≥„Åó„ÅèË™≠„ÇÄ', action: () => readPostersCarefully() },
                    { text: 'ÊÄ•„ÅÑ„Åß‰ΩìËÇ≤È§®„Å´Âêë„Åã„ÅÜ', action: () => rushToGym() },
                    { text: 'Ê†°Èï∑ÂÆ§„Å´ÊäóË≠∞„Åó„Å´Ë°å„Åè', action: () => protestToPrincipal() }
                ]
            );
        }
        
        function readPostersCarefully() {
            suspicionLevel += 3;
            addSoundEffect('üìã');
            updateDisplay('',
                '„ÄéË¶≥Ë≥û‰ºöÂèÇÂä†Ë≤ªÔºöÂ§ß‰∫∫1000ÂÜÜ„ÄÅÂ≠¶Áîü500ÂÜÜ„Äè„ÄéÊ≠ª‰ΩìÂÜôÁúü„Ç≥„É≥„ÉÜ„Çπ„ÉàÂÑ™ÂãùË≥ûÈáëÔºö50‰∏áÂÜÜ„Äè„ÄéÊú®Â±±„ÅÆÊúÄÊúü„ÅÆË®ÄËëâ‰∫àÊÉ≥Ôºö1‰Ωç„ÄåÁ©∫Ê∞ó„Åå„Å™„ÅÑ„Äç2‰Ωç„ÄåÂä©„Åë„Å¶„Äç3‰Ωç„ÄåÁóõ„ÅÑ„Äç„Äè...Ë≥≠„Åë„ÅÆÂØæË±°„Å´„Åæ„Åß„Å™„Å£„Å¶„ÇãÔºÅ',
                [
                    { text: 'ÊúÄÊúü„ÅÆË®ÄËëâ‰∫àÊÉ≥„Å´Ê≥®ÁõÆ„Åô„Çã', action: () => focusOnLastWords() },
                    { text: '‰ΩìËÇ≤È§®„Å´ÊÄ•„Åê', action: () => rushToGym() },
                    { text: '‰ªñ„ÅÆÂºµ„ÇäÁ¥ô„ÇÇÁ¢∫Ë™ç', action: () => checkOtherPosters() }
                ]
            );
        }
        
        function focusOnLastWords() {
            suspicionLevel += 2;
            addSoundEffect('üí≠');
            updateDisplay('AÊú®Â±±',
                '„ÄåÁ©∫Ê∞ó„Åå„Å™„ÅÑ„Äç„Åå1‰Ωç‰∫àÊÉ≥...„Åì„Çå„ÅØÊò®Â§úË¶ã„ÅüÂ§¢„Å®Âêå„Åò„Å†ÔºÅ„Åæ„Åï„Åã„ÄÅÂÉï„ÅÆÂ§¢„ÇÇÊìç‰Ωú„Åï„Çå„Å¶„ÇãÔºü„Åù„Çå„Å®„ÇÇÈÅéÂéª„ÅÆÊú®Â±±„Åü„Å°„ÇÇÂêå„Åò„Åì„Å®„ÇíË®Ä„Å£„Å¶Ê≠ª„Çì„Å†Ôºü',
                [
                    { text: 'ÈÅéÂéª„ÅÆÊúÄÊúü„ÅÆË®ÄËëâ„ÇíË™øÊüª„Åô„ÇãÂøÖË¶Å„ÇíÊÑü„Åò„Çã', action: () => needLastWordsResearch() },
                    { text: '‰ΩìËÇ≤È§®„Å´ÊÄ•„Åê', action: () => rushToGym() }
                ]
            );
        }
        
        function checkOtherPosters() {
            suspicionLevel += 2;
            addSoundEffect('üì∞');
            updateDisplay('',
                '„ÄéÊú®Â±±ËøΩÊÇº„Ç∞„ÉÉ„Ç∫Ë≤©Â£≤„Äè„ÄéÊú®Â±±„ÅÆÂà∂Êúç„Ç™„Éº„ÇØ„Ç∑„Éß„É≥„Äè„ÄéÊú®Â±±„ÅÆÊú∫„Å®Ê§ÖÂ≠êÔºöË®òÂøµÂìÅ„Å®„Åó„Å¶Ë≤©Â£≤„Äè„ÄéÊú®Â±±„ÅÆÊïôÁßëÊõ∏ÔºöÈÅ∫ÂìÅ„Å®„Åó„Å¶È´òÈ°çÂèñÂºï„Äè...ÂÉï„ÅÆÊåÅ„Å°Áâ©„Åæ„ÅßÂïÜÂìÅÂåñ„Åï„Çå„Å¶„ÇãÔºÅ',
                [
                    { text: '‰ΩìËÇ≤È§®„Å´ÊÄ•„Åê', action: () => rushToGym() },
                    { text: 'Ëá™ÂàÜ„ÅÆÊú∫„ÇíÁ¢∫Ë™ç„Åó„Å´Ë°å„Åè', action: () => checkOwnDesk() }
                ]
            );
        }
        
        function rushToGym() {
            allyCount += 1;
            addSoundEffect('üèÉ');
            updateDisplay('',
                '‰ΩìËÇ≤È§®„Å´Âà∞ÁùÄ„ÄÇÊè°Âäõ„Åå‰∏Ä‰∫∫„Åß„ÉÄ„É≥„Éô„É´„ÇíÊè°„Çä„Åó„ÇÅ„Å™„Åå„ÇâÂÉï„ÇíÂæÖ„Å£„Å¶„ÅÑ„Åü„ÄÇÂΩº„ÅÆË°®ÊÉÖ„ÅØÁúüÂâ£„Åß„ÄÅ‰ªñ„ÅÆ„ÇØ„É©„Çπ„É°„Ç§„Éà„Å®„ÅØÊòé„Çâ„Åã„Å´ÈÅï„ÅÜ„ÄÇ',
                [
                    { text: 'Êè°Âäõ„Å´Ëøë„Å•„Åè', action: () => approachGrip() },
                    { text: 'Âë®„Çä„Å´‰ªñ„ÅÆ‰∫∫„Åå„ÅÑ„Å™„ÅÑ„ÅãÁ¢∫Ë™ç„Åô„Çã', action: () => checkForOthers() },
                    { text: 'Êè°Âäõ„ÅÆÊßòÂ≠ê„ÇíË¶≥ÂØü„Åô„Çã', action: () => observeGripBehavior() }
                ]
            );
        }
        
        function approachGrip() {
            allyCount += 2;
            addSoundEffect('üí™');
            changeAtmosphere('mystery');
            updateDisplay('Êè°Âäõ',
                'AÊú®Â±±„ÄÅ„Çà„ÅèÊù•„Åü„ÄÇ‰ªñ„ÅÆ„ÇÑ„Å§„Çâ„ÅØÂÖ®Âì°ÁãÇ„Å£„Å¶„Çã„ÄÇ„Åß„ÇÇ‰ø∫„Å†„Åë„ÅØÊ≠£Ê∞ó„Å†„ÄÇ‰ø∫„ÅÆÊè°Âäõ„Åß„Éù„Éº„É´„ÇíÁ†¥Â£ä„Åô„Çå„Å∞„ÄÅ„Åì„ÅÆ30Âπ¥Á∂ö„ÅèÁãÇ„Å£„Åü‰ºùÁµ±„ÇíÁµÇ„Çè„Çâ„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ',
                [
                    { text: '„Éù„Éº„É´Á†¥Â£ä„ÅÆË©≥Á¥∞„Å™Ë®àÁîª„ÇíËÅû„Åè', action: () => askDestructionPlan() },
                    { text: '„Å™„ÅúÊè°Âäõ„Å†„ÅëÊ≠£Ê∞ó„Å™„ÅÆ„ÅãËÅû„Åè', action: () => askWhyGripSane() },
                    { text: '‰ªñ„Å´ÂçîÂäõËÄÖ„ÅØ„ÅÑ„Å™„ÅÑ„ÅãËÅû„Åè', action: () => askOtherAllies2() }
                ]
            );
        }
        
        function askDestructionPlan() {
            allyCount += 2;
            addSoundEffect('üí•');
            updateDisplay('Êè°Âäõ',
                'ÊîæË™≤Âæå„ÄÅ„Åø„Çì„Å™„Åå„ÅäÂâç„Çí„Éù„Éº„É´„Åæ„ÅßÈÄ£Ë°å„Åô„ÇãÊôÇ„ÄÅ‰ø∫„ÅåËÉåÂæå„Åã„ÇâÊé•Ëøë„Åô„Çã„ÄÇ120kg„ÅÆÊè°Âäõ„Åß„Éù„Éº„É´„ÅÆÊ†πÂÖÉ„ÇíÁ†¥Â£ä„ÄÇ„Ç≥„É≥„ÇØ„É™„Éº„Éà„Åß„ÇÇ‰ø∫„Å™„ÇâÁ†ï„Åë„Çã„ÄÇ„Éù„Éº„É´„ÅåÂÄí„Çå„Çå„Å∞Âë™„ÅÑ„ÇÇËß£„Åë„Çã„ÄÇ',
                [
                    { text: 'Âë™„ÅÑ„ÅåËß£„Åë„ÇãÊ†πÊã†„ÇíËÅû„Åè', action: () => askCurseBreakingEvidence() },
                    { text: 'Â§±Êïó„Åó„ÅüÂ†¥Âêà„ÅÆÂØæÁ≠ñ„ÇíËÅû„Åè', action: () => askBackupPlan() },
                    { text: 'ÂÆüÈöõ„ÅÆÊè°Âäõ„ÇíË¶ã„Åõ„Å¶„ÇÇ„Çâ„ÅÜ', action: () => requestGripDemo() }
                ]
            );
        }
        
        function askCurseBreakingEvidence() {
            allyCount += 1;
            addSoundEffect('üìö');
            updateDisplay('Êè°Âäõ',
                'Âõ≥Êõ∏È§®„ÅßÂè§„ÅÑË≥áÊñô„ÇíË™ø„Åπ„Åü„Çì„Å†„ÄÇ30Âπ¥Ââç„ÄÅÊúÄÂàù„ÅÆÊú®Â±±„ÅåÊ≠ª„Çì„Å†ÊôÇ„Å´Âª∫„Å¶„Çâ„Çå„Åü„Éù„Éº„É´„Çâ„Åó„ÅÑ„ÄÇ„Åù„ÅÆ„Éù„Éº„É´„Å´‰Ωï„Çâ„Åã„ÅÆÂë™Ë°ìÁöÑ„Å™Âäõ„ÅåÂÆø„Å£„Å¶„Çã„ÄÇÁ†¥Â£ä„Åô„Çå„Å∞ÈÄ£Èéñ„ÅåÊñ≠„Å°Âàá„Çå„Çã„ÄÇ',
                [
                    { text: '„Åù„ÅÆË≥áÊñô„ÇíË¶ã„Åõ„Å¶„ÇÇ„Çâ„ÅÜ', action: () => requestDocuments() },
                    { text: '‰∏ÄÁ∑í„Å´Âõ≥Êõ∏È§®„ÅßË™ø„Åπ„Çã„Åì„Å®„ÇíÊèêÊ°à', action: () => suggestLibraryResearch() },
                    { text: 'Êè°Âäõ„ÅÆÂÆüÂäõ„ÇíÁ¢∫Ë™ç', action: () => requestGripDemo() }
                ]
            );
        }
        
        function requestGripDemo() {
            allyCount += 1;
            addSoundEffect('üí™');
            changeAtmosphere('tension');
            updateDisplay('Êè°Âäõ',
                'Ë¶ã„Å¶„Å¶„Åè„Çå„ÄÇ„Åì„ÅÆ„ÉÄ„É≥„Éô„É´„ÄÅ100kg„ÅÇ„Çã„Çì„Å†...„ÅÜ„ÅÇ„ÅÇ„ÅÇ„ÅÇ„ÅÇ„ÅÇÔºÅ',
                [
                    { text: 'Ê¨°„Å∏', action: () => gripDemoResult() }
                ]
            );
        }
        
        function gripDemoResult() {
            allyCount += 2;
            addSoundEffect('üí•');
            updateDisplay('',
                '„É°„Ç≠„É°„Ç≠„É°„Ç≠...ÔºÅ„ÉÄ„É≥„Éô„É´„ÅÆÈâÑ„ÅÆÊåÅ„Å°Êâã„ÅåÊè°Âäõ„ÅßÂÆåÂÖ®„Å´Â§âÂΩ¢„Åó„ÅüÔºÅ„Åì„Çå„Å™„ÇâÊú¨ÂΩì„Å´„Éù„Éº„É´„ÇíÁ†¥Â£ä„Åß„Åç„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑÔºÅ',
                [
                    { text: 'Êè°Âäõ„ÇíÈ†º„ÇÇ„Åó„ÅèÊÄù„ÅÜ', action: () => trustGripCompletely() },
                    { text: 'Ë®àÁîª„ÅÆË©≥Á¥∞„ÇíË©∞„ÇÅ„Çã', action: () => planDetails() },
                    { text: '‰ªñ„ÅÆ„ÇØ„É©„Çπ„É°„Ç§„Éà„Å´Ê∞ó„Å•„Åã„Çå„ÇãÂç±Èô∫„Å´„Å§„ÅÑ„Å¶Ë©±„ÅóÂêà„ÅÜ', action: () => discussRisk() }
                ]
            );
        }
        
        function trustGripCompletely() {
            allyCount += 3;
            addSoundEffect('ü§ù');
            updateDisplay('AÊú®Â±±',
                'Êè°Âäõ„ÄÅÂêõ„Å†„Åë„ÅåÈ†º„Çä„Å†„ÄÇÂêõ„ÅÆÂäõ„ÅßÂÉï„Çí...„ÅÑ„ÇÑ„ÄÅÊú™Êù•„ÅÆÊú®Â±±„Åü„Å°„ÇíÊïë„Å£„Å¶„Åè„ÇåÔºÅ',
                [
                    { text: 'Ë®àÁîª„ÅÆÊúÄÁµÇÁ¢∫Ë™ç', action: () => finalPlanConfirmation() },
                    { text: 'ÊéàÊ•≠„Å´Êàª„Çã', action: () => returnToClass() }
                ]
            );
        }
        
        function planDetails() {
            allyCount += 1;
            addSoundEffect('üìã');
            updateDisplay('Êè°Âäõ',
                '17ÊôÇ30ÂàÜ„ÄÅ„Åø„Çì„Å™„Åå„ÅäÂâç„ÇíÂõ≤„Çì„Åß„Éù„Éº„É´„Å´Âêë„Åã„ÅÜ„ÄÇ‰ø∫„ÅØÂ∞ë„ÅóÈÅÖ„Çå„Å¶„ÄåÊè°Âäõ„ÇÇË¶ã„Å´Ë°å„Åè„Äç„Å£„Å¶Ë®Ä„Å£„Å¶ÂêàÊµÅ„Åô„Çã„ÄÇ„Åø„Çì„Å™„ÅåËààÂ•Æ„Åó„Å¶„ÇãÈöô„Å´„Éù„Éº„É´„Å´Êé•Ëøë„ÄÅ‰∏ÄÊ∞ó„Å´Á†¥Â£ä„Åô„Çã„ÄÇ',
                [
                    { text: '‰ªñ„ÅÆ„ÇØ„É©„Çπ„É°„Ç§„Éà„ÅÆÂèçÂøú„Çí‰∫àÊÉ≥', action: () => predictClassmateReactions() },
                    { text: 'Ë®àÁîª„Å´ÂïèÈ°å„Åå„Å™„ÅÑ„ÅãÁ¢∫Ë™ç', action: () => checkPlanProblems() },
                    { text: 'ÊéàÊ•≠„Å´Êàª„Çã', action: () => returnToClass() }
                ]
            );
        }
        
        function predictClassmateReactions() {
            allyCount += 1;
            addSoundEffect('ü§î');
            updateDisplay('Êè°Âäõ',
                'OË°ÄÂêà„ÅØË°Ä„ÇíË¶ã„Çå„Å™„Åè„Å¶Áô∫ÁãÇ„ÄÅ„ÅæQ„ÅØQualityÊºîÂá∫„ÅåÂè∞ÁÑ°„Åó„ÅßÊ∑∑‰π±„ÄÅOÊùë„ÅØË¶≥ÂØüÂØæË±°„ÇíÂ§±„Å£„Å¶Ëå´ÁÑ∂...„Åø„Çì„Å™„Éë„Éã„ÉÉ„ÇØ„Å´„Å™„Çã„ÄÇ„Åù„ÅÆÈöô„Å´„ÅäÂâç„ÅØÈÄÉ„Åí„Çç„ÄÇ',
                [
                    { text: 'Ë®àÁîª„Å´ÂêåÊÑè„Åô„Çã', action: () => agreeToPlan() },
                    { text: 'ÊéàÊ•≠„Å´Êàª„Çã', action: () => returnToClass() }
                ]
            );
        }
        
        function agreeToPlan() {
            allyCount += 2;
            addSoundEffect('‚úÖ');
            updateDisplay('Êè°Âäõ',
                '„Çà„Åó„ÄÅÊ±∫„Åæ„Çä„Å†„ÄÇ„Åß„ÇÇ‰ªä„ÅØÊôÆÈÄö„Å´ÊéàÊ•≠„ÇíÂèó„Åë„Çç„ÄÇÊÄ™„Åó„Åæ„Çå„Å™„ÅÑ„Çà„ÅÜ„Å´„ÄÇ‰ø∫„ÇÇ‰ªñ„ÅÆ„ÇÑ„Å§„Çâ„ÅÆÂâç„Åß„ÅØÁãÇ„Å£„Åü„Åµ„Çä„ÇíÁ∂ö„Åë„Çã„ÄÇ',
                [
                    { text: 'ÊéàÊ•≠„Å´Êàª„Çã', action: () => returnToClass() },
                                    '17ÊôÇ25ÂàÜ„ÄÅ„Åø„Çì„Å™„Åå„ÅäÂâç„ÇíÈÄ£Ë°å„ÅóÂßã„ÇÅ„Çã„ÄÇ‰ø∫„ÅØ5ÂàÜÈÅÖ„Çå„Åß„ÄåË¶ãÂ≠¶„Äç„Å®„Åó„Å¶ÂêàÊµÅ„ÄÇ17ÊôÇ30ÂàÜ„Åç„Å£„Åã„Çä„Å´„ÄÅ„Åø„Çì„Å™„Åå„ÅäÂâç„ÅÆÊ≠ª„ÇíË¶ãÂÆà„Å£„Å¶„ÇãÁû¨Èñì„ÇíÁãô„Å£„Å¶„Éù„Éº„É´„Å´Êé•Ëøë„ÄÇ‰∏ÄÊ∞ó„Å´Á≤âÁ†ï„Åô„Çã„ÄÇ',
                [
                    { text: '‰ΩúÊà¶„Å´ÂêåÊÑè„Åô„Çã', action: () => agreeToFinalPlan() },
                    { text: 'Âøµ„ÅÆ„Åü„ÇÅ‰ª£ÊõøÊ°à„ÇÇËÄÉ„Åà„Çã', action: () => considerBackup() },
                    { text: 'ÂçàÂæå„ÅÆÊéàÊ•≠„Å´Êàª„Çã', action: () => returnToAfternoonClass() }
                ]
            );
        }
        
        function agreeToFinalPlan() {
            allyCount += 3;
            addSoundEffect('ü§ù');
            updateDisplay('AÊú®Â±±',
                'Êè°Âäõ„ÄÅÂêõ„Å†„Åë„ÅåÈ†º„Çä„Å†„ÄÇ30Âπ¥Èñì„ÅÆÁãÇ„Å£„Åü‰ºùÁµ±„ÇíÁµÇ„Çè„Çâ„Åõ„Çà„ÅÜÔºÅ',
                [
                    { text: 'ÂçàÂæå„ÅÆÊéàÊ•≠„Å´Êàª„Çã', action: () => returnToAfternoonClass() }
                ]
            );
        }
        
        function returnToAfternoonClass() {
            suspicionLevel += 1;
            addSoundEffect('üîî');
            changeAtmosphere('tension');
            updateDisplay('',
                'ÂçàÂæå„ÅÆÊéàÊ•≠„ÄÇ„ÇØ„É©„ÇπÂÖ®Âì°„Åå„ÇΩ„ÉØ„ÇΩ„ÉØ„Åó„Å¶„ÅÑ„Çã„ÄÇÊôÇË®à„ÇíË¶ã„ÇãÂ∫¶„Å´„ÄÅ„Åø„Çì„Å™„ÅÆÁõÆ„ÅåËºù„ÅÑ„Å¶„ÅÑ„Åè„ÄÇ„ÇÇ„ÅÜ„Åô„Åê17ÊôÇ30ÂàÜ...ÈÅãÂëΩ„ÅÆÊôÇ„ÅåËøë„Å•„ÅÑ„Å¶„ÅÑ„Çã„ÄÇ',
                [
                    { text: 'ÊôÇÈñì„ÅÆÁµåÈÅé„ÇíÂæÖ„Å§', action: () => waitForTime() },
                    { text: '„ÇØ„É©„Çπ„É°„Ç§„Éà„ÅÆÊßòÂ≠ê„ÇíË¶≥ÂØü', action: () => observeClassmates() },
                    { text: 'ÊúÄÂæå„ÅÆËÑ±Âá∫„ÇíË©¶„Åø„Çã', action: () => attemptFinalEscape() }
                ]
            );
        }
        
        function observeClassmates() {
            suspicionLevel += 2;
            addSoundEffect('üëÄ');
            updateDisplay('',
                'OË°ÄÂêà„ÅØËààÂ•Æ„ÅßÊâã„ÅåÈúá„Åà„Å¶„ÅÑ„Çã„ÄÇ„ÅæQ„ÅØË¨é„ÅÆË∏ä„Çä„ÅÆÁ∑¥Áøí„ÄÇOÊùë„ÅØË¶≥ÂØüÁî®„ÅÆ„É°„É¢„ÇíÊ∫ñÂÇô„ÄÇOËîµ„ÅØÊÑõÊÉÖ„ÅÆ„Åì„ÇÇ„Å£„ÅüÁúºÂ∑Æ„Åó„ÄÇKÂ±±„ÅØ„Ç´„É°„É©„ÅÆÊúÄÁµÇË™øÊï¥„ÄÇÂúüY„ÅØÂë™„ÅÑ„ÅÆ„ÅäÂÆà„Çä„ÇíÊè°„Çä„Åó„ÇÅ„Å¶„ÅÑ„Çã„ÄÇÊè°Âäõ„Å†„Åë„ÅåÂÜ∑Èùô„Å´ÊôÇ„ÇíÂæÖ„Å£„Å¶„ÅÑ„Çã„ÄÇ',
                [
                    { text: 'Êè°Âäõ„Å®ÁõÆ„ÇíÂêà„Çè„Åõ„Çã', action: () => eyeContactWithGrip() },
                    { text: '17ÊôÇ„ÇíÂæÖ„Å§', action: () => waitFor5PM() }
                ]
            );
        }
        
        function eyeContactWithGrip() {
            allyCount += 1;
            addSoundEffect('üëÅÔ∏è');
            updateDisplay('Êè°Âäõ',
                'ÔºàÁÑ°Ë®Ä„ÅßÈ†∑„ÅèÔºâ‰ø∫„Å´‰ªª„Åõ„Çç„ÄÇ',
                [
                    { text: '17ÊôÇ„ÇíÂæÖ„Å§', action: () => waitFor5PM() }
                ]
            );
        }
        
        function waitFor5PM() {
            addSoundEffect('‚è∞');
            changeAtmosphere('danger');
            updateDisplay('',
                '17ÊôÇ00ÂàÜ„ÄÇÊîæË™≤Âæå„ÅÆ„ÉÅ„É£„Ç§„É†„ÅåÈ≥¥„Çã„ÄÇ„ÇØ„É©„ÇπÂÖ®Âì°„Åå‰∏ÄÊñâ„Å´AÊú®Â±±„ÇíÂõ≤„ÇÄ„ÄÇ„Äå„Åï„ÅÇ„ÄÅÊôÇÈñì„Å†‚ô™„Äç',
                [
                    { text: 'ÈÅãÂëΩ„ÅÆÊôÇ„ÅåÂßã„Åæ„Å£„Åü', action: () => fateBegins() }
                ]
            );
        }
        
        function fateBegins() {
            suspicionLevel += 3;
            addSoundEffect('üë•');
            updateDisplay('ÂÖ®Âì°',
                'AÊú®Â±±„Äú‚ô™ „ÅÑ„Çà„ÅÑ„ÇàÂêõ„ÅÆÊ≠ª„ÅÆÊôÇÈñì„Çà„Äú‚ô™ „Åø„Çì„Å™„ÅßÂêõ„ÇíÈõªÊü±„Åæ„ÅßÈÄÅ„Å£„Å¶„ÅÇ„Åí„Çã‚ô™ 30Âπ¥„Å´‰∏ÄÂ∫¶„ÅÆÁâπÂà•„Å™Áû¨Èñì‚ô™',
                [
                    { text: 'ÊäµÊäó„Åô„Çã', action: () => resistFinalEscort() },
                    { text: 'Â§ß‰∫∫„Åó„ÅèÂæì„ÅÜ', action: () => submitToEscort() },
                    { text: 'Êè°Âäõ„ÅÆË®àÁîª„Çí‰ø°„Åò„Å¶ËÄê„Åà„Çã', action: () => trustGripPlan() }
                ]
            );
        }
        
        function trustGripPlan() {
            allyCount += 2;
            addSoundEffect('üí™');
            updateDisplay('AÊú®Â±±',
                'ÔºàÂøÉ„ÅÆ‰∏≠„ÅßÔºâÊè°Âäõ...È†º„ÇÄ„Åû„ÄÇÂêõ„Å†„Åë„ÅåÂ∏åÊúõ„Å†„ÄÇ',
                [
                    { text: 'ÈõªÊü±„Å´Âêë„Åã„ÅÜ', action: () => headToPole() }
                ]
            );
        }
        
        function submitToEscort() {
            suspicionLevel += 1;
            addSoundEffect('üö∂');
            updateDisplay('AÊú®Â±±',
                '„Çè„Åã„Å£„Åü...„ÇÇ„ÅÜÈÄÉ„Åí„Çâ„Çå„Å™„ÅÑ„Çì„Å†„Å™„ÄÇ',
                [
                    { text: 'ÈõªÊü±„Å´Âêë„Åã„ÅÜ', action: () => headToPole() }
                ]
            );
        }
        
        function headToPole() {
            addSoundEffect('üö≤');
            changeAtmosphere('danger');
            updateDisplay('',
                'Ê†°ÈñÄ„Åã„ÇâÈÄöÂ≠¶Ë∑Ø„Å∏„ÄÇÂÖ®Ê†°ÁîüÂæí„Å®Áî∫„ÅÆ‰∫∫„ÄÖ„ÅåÂ§ßÂã¢ÈõÜ„Åæ„Å£„Å¶„ÅÑ„Çã„ÄÇ„Åæ„Çã„Åß„ÅäÁ•≠„Çä„ÅÆ„Çà„ÅÜ„Å™Èõ∞Âõ≤Ê∞ó„ÄÇ„Åù„Åó„Å¶Ë¶ã„Åà„Çã„ÄÅ„ÅÇ„ÅÆÂë™„ÅÑ„ÅÆÈõªÊü±„Åå...„ÄÇÁ¥∞Â∑•„Åï„Çå„ÅüËá™Ëª¢Ëªä„ÅåÁî®ÊÑè„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ',
                [
                    { text: 'Âë®Âõ≤„ÅÆÊßòÂ≠ê„ÇíÁ¢∫Ë™ç', action: () => checkSurroundings() },
                    { text: 'Êè°Âäõ„Åå„ÅÑ„Çã„ÅãÊé¢„Åô', action: () => lookForGrip() },
                    { text: 'Ëá™Ëª¢Ëªä„Å´‰πó„Çã„Çà„ÅÜ‰øÉ„Åï„Çå„Çã', action: () => promptedToBike() }
                ]
            );
        }
        
        function lookForGrip() {
            allyCount += 1;
            addSoundEffect('üîç');
            updateDisplay('AÊú®Â±±',
                'Êè°Âäõ„ÅÆÂßø„ÅåË¶ã„Åà„Å™„ÅÑ...„Åæ„Å†Êù•„Å¶„Å™„ÅÑ„ÅÆ„ÅãÔºü„Åù„Çå„Å®„ÇÇ...„Åæ„Åï„ÅãË£èÂàá„Å£„Åü„ÅÆ„ÅãÔºü',
                [
                    { text: 'Êè°Âäõ„Çí‰ø°„Åò„Å¶ÂæÖ„Å§', action: () => waitForGrip() },
                    { text: 'Ëá™ÂàÜ„Åß‰Ωï„Å®„Åã„Åó„Çà„ÅÜ„Å®„Åô„Çã', action: () => tryAlone() }
                ]
            );
        }
        
        function waitForGrip() {
            allyCount += 1;
            addSoundEffect('‚è≥');
            updateDisplay('Ê†°Èï∑',
                '„Åï„ÅÇAÊú®Â±±„Åè„Çì„ÄÅËá™Ëª¢Ëªä„Å´‰πó„Å£„Å¶‚ô™ 17ÊôÇ30ÂàÜ„Åæ„Åß„ÅÇ„Å®3ÂàÜ„Çà‚ô™ „Åø„Çì„Å™Âêõ„ÅÆÁæé„Åó„ÅÑÊ≠ª„ÇíÊ•Ω„Åó„Åø„Å´„Åó„Å¶„Çã„ÅÆ‚ô™',
                [
                    { text: '„Åæ„Å†Êè°Âäõ„ÇíÂæÖ„Å§', action: () => keepWaitingGrip() },
                    { text: 'Ëá™Ëª¢Ëªä„Å´‰πó„Çã', action: () => getOnBike() }
                ]
            );
        }
        
        function keepWaitingGrip() {
            allyCount += 1;
            addSoundEffect('üëÄ');
            updateDisplay('',
                '„Åù„ÅÆÊôÇÔºÅÊè°Âäõ„ÅåËµ∞„Å£„Å¶„Åç„ÅüÔºÅ„ÄåÂæÖ„Åü„Åõ„Å¶„Åô„Åæ„ÇìÔºÅ‰ø∫„ÇÇË¶ãÂ≠¶„Å´Êù•„ÅüÔºÅ„Äç',
                [
                    { text: 'Êè°Âäõ„ÅÆÂà∞ÁùÄ„Å´ÂÆâÂ†µ„Åô„Çã', action: () => relievedByGrip() }
                ]
            );
        }
        
        function relievedByGrip() {
            allyCount += 2;
            addSoundEffect('üí™');
            updateDisplay('Êè°Âäõ',
                'ÔºàÂ∞èÂ£∞„ÅßÔºâÊ∫ñÂÇô„ÅØ„Åß„Åç„Å¶„Çã„ÄÇ‰ø∫„Çí‰ø°„Åò„Çç„ÄÇ',
                [
                    { text: 'Ëá™Ëª¢Ëªä„Å´‰πó„Çã', action: () => getOnBike() }
                ]
            );
        }
        
        function getOnBike() {
            addSoundEffect('üö≤');
            changeAtmosphere('tension');
            updateDisplay('',
                'Á¥∞Â∑•„Åï„Çå„ÅüËá™Ëª¢Ëªä„Å´„Åæ„Åü„Åå„Çã„ÄÇ„Éñ„É¨„Éº„Ç≠„ÅØÂäπ„Åã„Å™„ÅÑ„ÄÅ„Éè„É≥„Éâ„É´„ÅØÂõ∫ÂÆö„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇÂâçÊñπ„Å´„ÅØÂë™„ÅÑ„ÅÆÈõªÊü±13Áï™„ÅåÂæÖ„Å£„Å¶„ÅÑ„Çã„ÄÇÂë®Âõ≤„ÅØËààÂ•Æ„Åó„ÅüË¶≥ÂÆ¢„ÅßÂüã„ÇÅÂ∞Ω„Åè„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ',
                [
                    { text: '17ÊôÇ30ÂàÜ„ÇíÂæÖ„Å§', action: () => waitFor530() }
                ]
            );
        }
        
        function waitFor530() {
            addSoundEffect('‚è∞');
            updateDisplay('Ê†°Èï∑',
                '17ÊôÇ30ÂàÜ„Å´„Å™„Çä„Åæ„Åó„Åü‚ô™ „Åù„Çå„Åß„ÅØ„ÄÅ30Âπ¥„Å´‰∏ÄÂ∫¶„ÅÆ‰ºùÁµ±Ë°å‰∫ã„ÇíÈñãÂßã„Åó„Åæ„Åô‚ô™ AÊú®Â±±„Åè„Çì„ÄÅ„Çπ„Çø„Éº„Éà‚ô™',
                [
                    { text: 'Ëá™Ëª¢Ëªä„ÅßËµ∞„ÇäÂá∫„Åô', action: () => startRiding() }
                ]
            );
        }
        
        function startRiding() {
            addSoundEffect('üí®');
            changeAtmosphere('danger');
            updateDisplay('',
                'Ëá™Ëª¢Ëªä„ÅåÂãï„ÅçÂá∫„Åó„ÅüÔºÅ„Éñ„É¨„Éº„Ç≠„ÅåÂäπ„Åã„Å™„ÅÑ„Åæ„ÅæÈõªÊü±„Å´Âêë„Åã„Å£„Å¶Âä†ÈÄü„Åó„Å¶„ÅÑ„ÅèÔºÅË¶≥ÂÆ¢„Åü„Å°„ÅåËààÂ•Æ„Åó„Å¶Â£∞Êè¥„ÇíÈÄÅ„ÇãÔºÅ',
                [
                    { text: 'Êè°Âäõ„ÅÆË°åÂãï„ÇíË¶ã„Çã', action: () => watchGripAction() }
                ]
            );
        }
        
        function watchGripAction() {
            // Êè°Âäõ„ÅÆÊàêÂäüÁ¢∫Áéá„ÅØ allyCount „Å® suspicionLevel „Å´Âü∫„Å•„Åè
            const successChance = (allyCount * 10) - (suspicionLevel * 2);
            const random = Math.random() * 100;
            
            if (random < Math.max(10, successChance)) {
                // Êè°ÂäõÊàêÂäü - „Éè„ÉÉ„Éî„Éº„Ç®„É≥„Éâ
                gripSuccess();
            } else {
                // Êè°ÂäõÂ§±Êïó - „É©„É≥„ÉÄ„É†„Å™ÂêåË°åËÄÖ„Å´„Çà„ÇãÂàÜÂ≤ê
                gripFailsRandomEnding();
            }
        }
        
        function gripSuccess() {
            allyCount += 5;
            addSoundEffect('üí•');
            changeAtmosphere('happy');
            updateDisplay('Êè°Âäõ',
                'AÊú®Â±±ÔºÅ‰ªä„Å†ÔºÅ30Âπ¥Èñì„ÅÆÁãÇÊ∞ó„Çà„ÄÅ‰ªä„Åì„ÅùÁµÇ„Çè„ÇåÔºÅ„ÅÜ„Åä„Åä„Åä„Åä„Åä„ÅäÔºÅ',
                [
                    { text: 'Ê¨°„Å∏', action: () => poleDestruction() }
                ]
            );
        }
        
        function poleDestruction() {
            addSoundEffect('üí•');
            updateDisplay('',
                '„É°„Ç≠„É°„Ç≠„É°„Ç≠„É°„Ç≠...ÔºÅ„Ç≥„É≥„ÇØ„É™„Éº„ÉàË£Ω„ÅÆ„Éù„Éº„É´„ÅåÊè°Âäõ„ÅÆË∂Ö‰∫∫ÁöÑ„Å™Âäõ„ÅßÂÆåÂÖ®„Å´Á≤âÁ†ï„Åï„Çå„ÅüÔºÅ‰∏≠„Åã„ÇâÂÖâ„ÇãÁ†¥Áâá„ÅåÈ£õ„Å≥Êï£„ÇãÔºÅ',
                [
                    { text: 'Ê¨°„Å∏', action: () => curseBreaking() }
                ]
            );
        }
        
        function curseBreaking() {
            addSoundEffect('‚ú®');
            updateDisplay('',
                '„Åù„ÅÆÁû¨Èñì„ÄÅÁî∫„ÅÆ‰∫∫„ÄÖ„ÅÆÁõÆ„Å´Ê≠£Ê∞ó„ÅåÊàª„Å£„ÅüÔºÅ30Âπ¥ÈñìÁ∂ö„ÅÑ„ÅüÂë™„ÅÑ„ÅåÂÆåÂÖ®„Å´Ëß£„Åë„ÅüÔºÅ',
                [
                    { text: 'HAPPY END', action: () => happyEndingFinal() }
                ]
            );
        }
        
        function happyEndingFinal() {
            updateDisplay('OË°ÄÂêà',
                '„ÅàÔºüÂÉï„ÄÅ„Å©„ÅÜ„Åó„Å¶Ë°Ä„ÅÆ„Åì„Å®„Å∞„Åã„ÇäËÄÉ„Åà„Å¶„Åü„Çì„Å†„Çç„ÅÜ...Êè°Âäõ„ÄÅÂêõ„ÅåÂÉï„Åü„Å°„ÇíÊïë„Å£„Å¶„Åè„Çå„Åü„Çì„Å†ÔºÅAÊú®Â±±„ÄÅÁÑ°‰∫ã„Åß„Çà„Åã„Å£„ÅüÔºÅ',
                [
                    { text: '„Ç®„Éî„É≠„Éº„Ç∞„ÇíË¶ã„Çã', action: () => showHappyEpilogue() }
                ]
            );
        }
        
        function gripFailsRandomEnding() {
            const companions = ['OË°ÄÂêà', '„ÅæQ', 'OÊùë', 'OËîµ', 'KÂ±±', 'ÂúüY'];
            const randomIndex = Math.floor(Math.random() * companions.length);
            const companion = companions[randomIndex];
            
            addSoundEffect('üí•');
            updateDisplay('',
                `Êè°Âäõ„Åå„Éù„Éº„É´„Å´Âêë„Åã„Å£„Åü„Åå...Èñì„Å´Âêà„Çè„Å™„ÅÑÔºÅ„Åù„Åó„Å¶ÊúÄÂæå„Å´AÊú®Â±±„Å®‰∏ÄÁ∑í„Å´„ÅÑ„Åü„ÅÆ„ÅØ${companion}„Å†„Å£„Åü...`,
                [
                    { text: 'Ê¨°„Å∏', action: () => executeSpecificEnding(companion) }
                ]
            );
        }
        
        function executeSpecificEnding(companion) {
            switch(companion) {
                case 'OË°ÄÂêà':
                    oKetsugoDeathEnd();
                    break;
                case '„ÅæQ':
                    maqDeathEnd();
                    break;
                case 'OÊùë':
                    oMuraDeathEnd();
                    break;
                case 'OËîµ':
                    oZouDeathEnd();
                    break;
                case 'KÂ±±':
                    kYamaDeathEnd();
                    break;
                case 'ÂúüY':
                    doYDeathEnd();
                    break;
            }
        }
        
        function oKetsugoDeathEnd() {
            changeAtmosphere('death');
            addSoundEffect('ü©∏');
            updateDisplay('OË°ÄÂêà',
                'AÊú®Â±±„Äú‚ô™ ÁßÅ„Åå‰∏ÄÁï™Ëøë„Åè„ÅßÂêõ„ÅÆË°Ä„ÇíË¶≥Ë≥û„Åô„ÇãÁâπÊ®©„Çí„ÅÑ„Åü„Å†„Åè„Çè‚ô™ „Åï„ÅÇ„ÄÅÁæé„Åó„ÅèÊ≠ª„Çì„Åß‚ô™',
                [
                    { text: '„Ç¨„Ç∑„É£„Éº„É≥ÔºÅ', action: () => finalCrash('„ÅÇ„ÅÇ„Äú‚ô™ ÊúÄÈ´ò„ÅÆË°Ä„ÅÆËâ≤‚ô™ Áæé„Åó„Åô„Åé„Çã‚ô™ 30Âπ¥ÈñìÂæÖ„Å£„ÅüÁî≤Êñê„Åå„ÅÇ„Å£„Åü‚ô™', 'BAD END - OË°ÄÂêà„ÅÆË°ÄÊ∂≤„Å∏„ÅÆÁï∞Â∏∏„Å™Âü∑ÁùÄ„ÅåÊúÄÂæå„Åæ„ÅßÁ∂ö„ÅÑ„Åü') }
                ]
            );
        }
        
        function maqDeathEnd() {
            changeAtmosphere('death');
            addSoundEffect('üé≠');
            updateDisplay('„ÅæQ',
                'AÊú®Â±±„Äú‚ô™ QualityÔºàË≥™Ôºâ„ÅÆÈ´ò„ÅÑÊ≠ª„ÅÆÊºîÂá∫„Çø„Ç§„É†‚ô™ ‚ô™Quality Death Dance‚ô™ Âêõ„Å∏„ÅÆÊúÄÈ´ò„ÅÆÈÄÅÂà•„ÅÆË∏ä„Çä‚ô™',
                [
                    { text: '„Ç¨„Ç∑„É£„Éº„É≥ÔºÅ', action: () => finalCrash('Perfect Quality‚ô™ ÊúÄÈ´ò„ÅÆÊ≠ª„Å´È°î„Å†‚ô™ „Åì„ÅÆÁû¨Èñì„Åì„ÅùÁúü„ÅÆQuality‚ô™', 'BAD END - „ÅæQ„ÅÆQuality Dance„ÅØÊñáÂ≠óÈÄö„ÇäÊ≠ª„ÅÆËàûË∏ä„Å†„Å£„Åü') }
                ]
            );
        }
        
        function oMuraDeathEnd() {
            changeAtmosphere('death');
            addSoundEffect('üì∏');
            updateDisplay('OÊùë',
                'AÊú®Â±±„Äú‚ô™ ÂÉï„ÅåÂêõ„ÅÆÊ≠ª‰Ωì„ÅÆÁ¨¨‰∏ÄÁô∫Ë¶ãËÄÖ„Å´„Å™„ÇãÊ®©Âà©„Çí„Ç≤„ÉÉ„Éà„Åó„Åü„Åú‚ô™ ÊúÄÈ´ò„ÅÆË¶≥ÂØü„Éá„Éº„Çø„ÇíÂèñ„Å£„Å¶„ÇÑ„Çã‚ô™',
                [
                    { text: '„Ç¨„Ç∑„É£„Éº„É≥ÔºÅ', action: () => finalCrash('„ÇÑ„Å£„Åü„Äú‚ô™ ÂÆåÁíß„Å™Ê≠ª‰Ωì‚ô™ ÊúÄÈ´ò„ÅÆË¶≥ÂØü„Éá„Éº„Çø„ÅåÂèñ„Çå„Åü‚ô™ „É¨„Éù„Éº„ÉàÊõ∏„Åè„ÅÆ„ÅåÊ•Ω„Åó„Åø‚ô™', 'BAD END - OÊùë„ÅÆËààÂ•Æ„ÅåÊÇ≤Âäá„ÇíÂÆåÊàê„Åï„Åõ„Åü') }
                ]
            );
        }
        
        function oZouDeathEnd() {
            changeAtmosphere('death');
            addSoundEffect('üñ§');
            updateDisplay('OËîµ',
                                'AÊú®Â±±„Äú‚ô™ „ÇÑ„Å£„Å®Âêõ„Å®Ê∞∏ÈÅ†„Å´‰∏ÄÁ∑í„Å´„ÅÑ„Çâ„Çå„Çã‚ô™ ÂÉï„ÅÆÊÑõ„Åô„ÇãÊ≠ª‰Ωì„Å´„Å™„Å£„Å¶‚ô™ ÊÑõ„Åó„Å¶„Çã„Çà„Äú‚ô™',
                [
                    { text: '„Ç¨„Ç∑„É£„Éº„É≥ÔºÅ', action: () => finalCrash('„ÅÇ„ÅÇ„Äú‚ô™ Áæé„Åó„ÅÑ„Äú‚ô™ ÊúÄÈ´ò„ÅÆÊ≠ª‰Ωì‚ô™ „Åì„Çå„Åã„ÇâÊØéÊó•‰∏ÄÁ∑í„Å´„ÅÑ„Çà„ÅÜ„Å≠‚ô™ Ê∞∏ÈÅ†„Å´ÊÑõ„Åó„Å¶„ÅÇ„Åí„Çã‚ô™', 'BAD END - OËîµ„ÅÆÊ≠™„Çì„Å†ÊÑõÊÉÖ„ÅåÂÆüÁèæ„Åó„Å¶„Åó„Åæ„Å£„Åü') }
                ]
            );
        }
        
        function kYamaDeathEnd() {
            changeAtmosphere('death');
            addSoundEffect('üì±');
            updateDisplay('KÂ±±',
                'AÊú®Â±±„Äú‚ô™ ÂÆåÁíß„Å™8KÁîªË≥™„ÅßÂêõ„ÅÆÊ≠ª„ÇíË®òÈå≤„Åó„Å¶„ÅÇ„Åí„Çã‚ô™ ‰∏ñÁïå‰∏≠„Å´ÈÖç‰ø°„Åó„Å¶Ê∞∏ÈÅ†„Å´ÊÆã„Åó„Å¶„ÅÇ„Åí„Çã‚ô™',
                [
                    { text: '„Ç¨„Ç∑„É£„Éº„É≥ÔºÅ', action: () => finalCrash('ÂÆåÁíß„Å™Êò†ÂÉè„ÅåÊíÆ„Çå„Åü‚ô™ „Åì„Çå„ÇíSNS„Åß‰∏ñÁïåÈÖç‰ø°‚ô™ #Êú®Â±±„ÅÆÊ≠ª #ÊúÄÈ´ò„ÅÆÁû¨Èñì #30Âπ¥„ÅÆ‰ºùÁµ±', 'BAD END - KÂ±±„ÅÆÊíÆÂΩ±„ÅåÊÇ≤Âäá„ÅÆÁû¨Èñì„ÇíÊ∞∏ÈÅ†„Å´Ë®òÈå≤„Åó„Åü') }
                ]
            );
        }
        
        function doYDeathEnd() {
            changeAtmosphere('death');
            addSoundEffect('üçÄ');
            updateDisplay('ÂúüY',
                'AÊú®Â±±„Äú‚ô™ ÂÉï„ÅÆ„ÄéÁµ∂ÂØæÊ≠ª‰∫°„ÅÆ„ÅäÂÆà„Çä„Äè„ÅÆÂäπÊûú„ÅØÂÆåÁíß‚ô™ 30Âπ¥Èñì100%„ÅÆÊàêÂäüÁéá‚ô™ Âêõ„ÇÇÁµ±Ë®à„ÅÆ‰∏ÄÈÉ®„Å´„Å™„Å£„Åü„Å≠‚ô™',
                [
                    { text: '„Ç¨„Ç∑„É£„Éº„É≥ÔºÅ', action: () => finalCrash('„É©„ÉÉ„Ç≠„Éº‚ô™ „ÅäÂÆà„Çä„ÅÆÂäπÊûú„ÅØÂÆåÁíß‚ô™ 30Âπ¥ÈñìÁÑ°ÊïóË®òÈå≤Á∂ôÁ∂ö‰∏≠‚ô™ Ê¨°„ÅÆÊú®Â±±„ÇÇÊ•Ω„Åó„Åø‚ô™', 'BAD END - ÂúüY„ÅÆÊÇ™ÈÅãÊìç‰Ωú„ÅåÊÅê„Çç„Åó„ÅÑ„Åª„Å©ÁöÑÁ¢∫„Å†„Å£„Åü') }
                ]
            );
        }
        
        function finalCrash(killerReaction, endText) {
            addSoundEffect('üí•');
            updateDisplay('',
                'AÊú®Â±±„ÅØ„Éù„Éº„É´„Å´ÊøÄÁ™Å„Åó„ÅüÔºÅ',
                [
                    { text: 'ÊúÄÊúü„ÅÆÁû¨Èñì', action: () => lastMoment(killerReaction, endText) }
                ]
            );
        }
        
        function lastMoment(killerReaction, endText) {
            addSoundEffect('üíî');
            updateDisplay('AÊú®Â±±',
                '„Åè„ÄÅÁ©∫Ê∞ó„Åå„Å™„ÅÑ......',
                [
                    { text: 'Ê¨°„Å∏', action: () => killerReaction2(killerReaction, endText) }
                ]
            );
        }
        
        function killerReaction2(killerReaction, endText) {
            addSoundEffect('üòà');
            updateDisplay('',
                killerReaction,
                [
                    { text: 'Ê¨°„Å∏', action: () => showBadEnd(endText) }
                ]
            );
        }
        
        function showBadEnd(endText) {
            updateDisplay('',
                endText,
                [
                    { text: '„Ç®„Éî„É≠„Éº„Ç∞„ÇíË¶ã„Çã', action: () => showBadEpilogue() }
                ]
            );
        }
        
        function showBadEpilogue() {
            changeAtmosphere('mystery');
            addSoundEffect('üåÖ');
            updateDisplay('',
                'ÁøåÊó•„ÄÅS„Éû„Éº„ÉÄ„ÉºÂ∑•Ê•≠È´òÊ†°„Å´„ÅØÈùôÂØÇ„ÅåÊàª„Å£„Å¶„ÅÑ„Åü„ÄÇÊ†°Â∫≠„Å´„ÅØÊñ∞„Åó„ÅÑÊÖ∞ÈúäÁ¢ë„ÅåÂª∫„Å¶„Çâ„Çå„Åü„ÄÇ„ÄéDÊú®Â±± ‰∫´Âπ¥16Ê≠≥„Äè„Åù„Åó„Å¶ÁîüÂæí„Åü„Å°„ÅØ‰Ωï‰∫ã„ÇÇ„Å™„Åã„Å£„Åü„Åã„ÅÆ„Çà„ÅÜ„Å´Êó•Â∏∏„ÇíÈÅé„Åî„Åó„Å¶„ÅÑ„Çã„ÄÇ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showBadEpilogue2() }
                ]
            );
        }
        
        function showBadEpilogue2() {
            addSoundEffect('üì∞');
            updateDisplay('',
                'Âú∞ÂÖÉÊñ∞ËÅû„ÅÆË¶ãÂá∫„ÅóÔºö„Äé„Åæ„Åü„ÇÇÊú®Â±±„ÄÅÂë™„ÅÑ„ÅÆÈõªÊü±„ÅßÊ≠ª‰∫° - 30Âπ¥Á∂ö„ÅèË¨é„ÅÆ‰∫ãÊïÖ„ÄèÁî∫„ÅÆ‰∫∫„ÄÖ„ÅØ‰ªäÂõû„ÇÇ„Äå‰∏çÂπ∏„Å™‰∫ãÊïÖ„Äç„Å®„Åó„Å¶Âá¶ÁêÜ„Åó„Åü„ÄÇ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showBadEpilogue3() }
                ]
            );
        }
        
        function showBadEpilogue3() {
            addSoundEffect('üöå');
            updateDisplay('',
                '„Åù„Åó„Å¶‰∏ÄÈÄ±ÈñìÂæå...Êñ∞„Åó„ÅÑËª¢Ê†°Áîü„Çí‰πó„Åõ„Åü„Éê„Çπ„ÅåS„Éû„Éº„ÉÄ„ÉºÂ∑•Ê•≠È´òÊ†°„Å´Âêë„Åã„Å£„Å¶„ÅÑ„Åü„ÄÇ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showBadEpilogue4() }
                ]
            );
        }
        
        function showBadEpilogue4() {
            addSoundEffect('üë§');
            updateDisplay('Êñ∞Ëª¢Ê†°Áîü',
                '„ÅØ„Åò„ÇÅ„Åæ„Åó„Å¶ÔºÅEÊú®Â±±„Åß„ÅôÔºÅ„Çà„Çç„Åó„Åè„ÅäÈ°ò„ÅÑ„Åó„Åæ„ÅôÔºÅ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showBadEpilogue5() }
                ]
            );
        }
        
        function showBadEpilogue5() {
            addSoundEffect('üë•');
            updateDisplay('ÂÖ®Âì°',
                '„Åà„Åà„Åà„Åà„Åà„ÅàÔºÅÔºÅÔºÅ„Åæ„ÅüÊú®Â±±ÔºÅÔºü„ÇÑ„Å£„Åü„Äú‚ô™ Ê¨°„ÅÆÁç≤Áâ©‚ô™ 10Âπ¥„Å∂„Çä„ÅÆÊú®Â±±‚ô™ ‰ªäÂ∫¶„Åì„ÅùÂÆåÁíß„Å´‚ô™',
                [
                    { text: 'Ê¨°„Å∏', action: () => showBadEpilogue6() }
                ]
            );
        }
        
        function showBadEpilogue6() {
            addSoundEffect('üìã');
            updateDisplay('',
                '„Åù„Åó„Å¶„ÄéEÊú®Â±±ÂÆåÂÖ®Ê≠ª‰∫°„Éó„É≠„Ç∏„Çß„ÇØ„Éà„Äè„ÅåÂßãÂãï„Åó„Åü„ÄÇÈªíÊùø„Å´„ÅØÊñ∞„Åó„ÅÑË®àÁîª„ÅåÊõ∏„Åã„Çå„Å¶„ÅÑ„Çã„ÄÇ„Åì„ÅÆÁãÇÊ∞ó„ÅÆ„Çµ„Ç§„ÇØ„É´„ÅØ„ÅÑ„Å§„Åæ„ÅßÁ∂ö„Åè„ÅÆ„Å†„Çç„ÅÜ„Åã...',
                [
                    { text: 'TO BE CONTINUED...', action: () => showBadEpilogueFinal() }
                ]
            );
        }
        
        function showBadEpilogueFinal() {
            updateDisplay('',
                'TO BE CONTINUED...\n\nÊè°Âäõ„É´„Éº„ÉàÂà∞ÈÅîÁéá: ' + Math.max(5, allyCount * 2 - suspicionLevel) + '%',
                [
                    { text: '„Çø„Ç§„Éà„É´„Å´Êàª„Çã', action: () => location.reload() }
                ]
            );
        }
        
        function showHappyEpilogue() {
            changeAtmosphere('happy');
            addSoundEffect('üåà');
            updateDisplay('',
                'Êï∞„É∂ÊúàÂæå„ÄÅS„Éû„Éº„ÉÄ„ÉºÂ∑•Ê•≠È´òÊ†°„ÅØÂπ≥Âíå„Å™Â≠¶Ê†°„Å´Áîü„Åæ„ÇåÂ§â„Çè„Å£„Åü„ÄÇÈõªÊü±13Áï™„Åå„ÅÇ„Å£„ÅüÂ†¥ÊâÄ„Å´„ÅØÁæé„Åó„ÅÑËä±Â£á„Åå‰Ωú„Çâ„Çå„ÄÅ„ÄéÂπ≥Âíå„ÅÆË®òÂøµÁ¢ë„Äè„ÅåÂª∫„Å¶„Çâ„Çå„Åü„ÄÇ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showHappyEpilogue2() }
                ]
            );
        }
        
        function showHappyEpilogue2() {
            addSoundEffect('üìö');
            updateDisplay('',
                'Â≠¶Ê†°„ÅÆÂõ≥Êõ∏È§®„Å´„ÅØÊñ∞„Åó„ÅÑ„Ç≥„Éº„Éä„Éº„Åå„Åß„Åç„Åü„ÄÇ„ÄéÊú®Â±±ÂÆ∂„ÅÆÁúüÂÆü„Å®Âë™„ÅÑ„ÅÆÊ≠¥Âè≤„Äè„Åù„Åó„Å¶„Äé‰∫åÂ∫¶„Å®Áπ∞„ÇäËøî„Åó„Å¶„ÅØ„Å™„Çâ„Å™„ÅÑÈÅé„Å°„ÅÆË®òÈå≤„Äè„Å®„Åó„Å¶„ÄÅ30Âπ¥Èñì„ÅÆÁãÇÊ∞ó„ÅåË®òÈå≤„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showHappyEpilogue3() }
                ]
            );
        }
        
        function showHappyEpilogue3() {
            addSoundEffect('üöå');
            updateDisplay('',
                '„Åù„Åó„Å¶‰ªäÊó•„ÇÇÊñ∞„Åó„ÅÑËª¢Ê†°Áîü„Åå„ÇÑ„Å£„Å¶„Åç„Åü„ÄÇ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showHappyEpilogue4() }
                ]
            );
        }
        
        function showHappyEpilogue4() {
            addSoundEffect('üë§');
            updateDisplay('Êñ∞Ëª¢Ê†°Áîü',
                '„ÅØ„Åò„ÇÅ„Åæ„Åó„Å¶ÔºÅEÊú®Â±±„Åß„ÅôÔºÅ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showHappyEpilogue5() }
                ]
            );
        }
        
        function showHappyEpilogue5() {
            addSoundEffect('üë•');
            updateDisplay('ÂÖ®Âì°',
                '„Çà„Çç„Åó„Åè„ÄÅEÊú®Â±±ÔºÅ‰∏ÄÁ∑í„Å´Ê•Ω„Åó„ÅÑÂ≠¶Ê†°ÁîüÊ¥ª„ÇíÈÄÅ„Çç„ÅÜÔºÅ‰ªäÂ∫¶„ÅØË™∞„ÇÇÊ≠ª„Å™„Å™„ÅÑ„ÄÅÊú¨ÂΩì„ÅÆÂèãÊÉÖ„ÇíÁØâ„Åì„ÅÜÔºÅ',
                [
                    { text: 'Ê¨°„Å∏', action: () => showHappyEpilogue6() }
                ]
            );
        }
        
        function showHappyEpilogue6() {
            addSoundEffect('üí™');
            updateDisplay('Êè°Âäõ',
                '‰ø∫„ÅÆÊè°Âäõ„ÅßÂë™„ÅÑ„ÇíÁ†ï„ÅÑ„Å¶„Çà„Åã„Å£„Åü„ÄÇ„Åì„Çå„ÅßÊú™Êù•„ÅÆÊú®Â±±„Åü„Å°„ÇÇ„ÄÅ„ÇÇ„ÅÜÊ≠ª„Å¨„Åì„Å®„ÅØ„Å™„ÅÑ„ÄÇ',
                [
                    { text: 'TRUE END', action: () => showHappyEpilogueFinal() }
                ]
            );
        }
        
        function showHappyEpilogueFinal() {
            updateDisplay('',
                'TRUE END - 30Âπ¥Èñì„ÅÆÂë™„ÅÑ„ÅØÂÆåÂÖ®„Å´Ëß£„Åë„Åü„ÄÇ\n\nÊè°Âäõ„Å®„ÅÆ‰ø°È†ºÂ∫¶: ' + allyCount + '\nÁñëÂøÉÊöóÈ¨º„É¨„Éô„É´: ' + suspicionLevel + '\nËÑ±Âá∫Ë©¶Ë°åÂõûÊï∞: ' + escapeAttempts,
                [
                    { text: '„Çø„Ç§„Éà„É´„Å´Êàª„Çã', action: () => location.reload() }
                ]
            );
        }
        
        function updateDisplay(characterName, storyText, choices) {
            document.getElementById('characterName').textContent = characterName;
            document.getElementById('characterName').style.display = characterName ? 'block' : 'none';
            document.getElementById('storyText').textContent = storyText;
            
            const choicesDiv = document.getElementById('choices');
            choicesDiv.innerHTML = '';
            
            choices.forEach(choice => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.textContent = choice.text;
                button.onclick = choice.action;
                choicesDiv.appendChild(button);
            });
            
            // „ÉÜ„Ç≠„Çπ„ÉàË°®Á§∫ÊôÇ„ÅÆ„Éï„Çß„Éº„Éâ„Ç§„É≥„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
            const storyTextElement = document.getElementById('storyText');
            storyTextElement.style.opacity = '0';
            setTimeout(() => {
                storyTextElement.style.opacity = '1';
            }, 100);
        }
    </script>
</body>
</html>
